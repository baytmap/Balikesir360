{"version":3,"file":"piexif.js","sources":["../src/interfaces.ts","../src/exceptions.ts","../src/constants.ts","../src/utils.ts","../src/helper.ts","../src/index.ts"],"sourcesContent":["export type ExifFieldNames =\r\n  | '0th'\r\n  | 'Exif'\r\n  | 'Interop'\r\n  | 'GPS'\r\n  | '1st'\r\n  | 'thumbnail';\r\n\r\nexport interface IExif {\r\n  '0th'?: IExifElement;\r\n  Exif?: IExifElement;\r\n  Interop?: IExifElement;\r\n  GPS?: IExifElement;\r\n  '1st'?: IExifElement;\r\n  thumbnail?: string;\r\n}\r\n\r\nexport interface IExifElement {\r\n  [key: number]: any;\r\n}\r\n\r\nexport interface ITypes {\r\n  Byte: number;\r\n  Ascii: number;\r\n  Short: number;\r\n  Long: number;\r\n  Rational: number;\r\n  Undefined: number;\r\n  SLong: number;\r\n  SRational: number;\r\n}\r\n\r\nexport type TagsFieldNames =\r\n  | 'Image'\r\n  | '0th'\r\n  | 'Exif'\r\n  | 'Interop'\r\n  | 'GPS'\r\n  | '1st';\r\n\r\nexport const Types: ITypes = {\r\n  Byte: 1,\r\n  Ascii: 2,\r\n  Short: 3,\r\n  Long: 4,\r\n  Rational: 5,\r\n  Undefined: 7,\r\n  SLong: 9,\r\n  SRational: 10,\r\n};\r\n\r\nexport interface ITagsSubElement {\r\n  name: string;\r\n  type: number;\r\n  //type: ITypes,\r\n}\r\n\r\nexport interface ITagsElement {\r\n  [key: number]: ITagsSubElement;\r\n}\r\n\r\nexport interface ITags {\r\n  Image: ITagsElement;\r\n  '0th': ITagsElement;\r\n  Exif: ITagsElement;\r\n  Interop: ITagsElement;\r\n  GPS: ITagsElement;\r\n  '1st': ITagsElement;\r\n}\r\n\r\nexport interface ITagValues {\r\n  ImageIFD: {\r\n    ProcessingSoftware: number;\r\n    NewSubfileType: number;\r\n    SubfileType: number;\r\n    ImageWidth: number;\r\n    ImageLength: number;\r\n    BitsPerSample: number;\r\n    Compression: number;\r\n    PhotometricInterpretation: number;\r\n    Threshholding: number;\r\n    CellWidth: number;\r\n    CellLength: number;\r\n    FillOrder: number;\r\n    DocumentName: number;\r\n    ImageDescription: number;\r\n    Make: number;\r\n    Model: number;\r\n    StripOffsets: number;\r\n    Orientation: number;\r\n    SamplesPerPixel: number;\r\n    RowsPerStrip: number;\r\n    StripByteCounts: number;\r\n    XResolution: number;\r\n    YResolution: number;\r\n    PlanarConfiguration: number;\r\n    GrayResponseUnit: number;\r\n    GrayResponseCurve: number;\r\n    T4Options: number;\r\n    T6Options: number;\r\n    ResolutionUnit: number;\r\n    TransferFunction: number;\r\n    Software: number;\r\n    DateTime: number;\r\n    Artist: number;\r\n    HostComputer: number;\r\n    Predictor: number;\r\n    WhitePoint: number;\r\n    PrimaryChromaticities: number;\r\n    ColorMap: number;\r\n    HalftoneHints: number;\r\n    TileWidth: number;\r\n    TileLength: number;\r\n    TileOffsets: number;\r\n    TileByteCounts: number;\r\n    SubIFDs: number;\r\n    InkSet: number;\r\n    InkNames: number;\r\n    NumberOfInks: number;\r\n    DotRange: number;\r\n    TargetPrinter: number;\r\n    ExtraSamples: number;\r\n    SampleFormat: number;\r\n    SMinSampleValue: number;\r\n    SMaxSampleValue: number;\r\n    TransferRange: number;\r\n    ClipPath: number;\r\n    XClipPathUnits: number;\r\n    YClipPathUnits: number;\r\n    Indexed: number;\r\n    JPEGTables: number;\r\n    OPIProxy: number;\r\n    JPEGProc: number;\r\n    JPEGInterchangeFormat: number;\r\n    JPEGInterchangeFormatLength: number;\r\n    JPEGRestartInterval: number;\r\n    JPEGLosslessPredictors: number;\r\n    JPEGPointTransforms: number;\r\n    JPEGQTables: number;\r\n    JPEGDCTables: number;\r\n    JPEGACTables: number;\r\n    YCbCrCoefficients: number;\r\n    YCbCrSubSampling: number;\r\n    YCbCrPositioning: number;\r\n    ReferenceBlackWhite: number;\r\n    XMLPacket: number;\r\n    Rating: number;\r\n    RatingPercent: number;\r\n    ImageID: number;\r\n    CFARepeatPatternDim: number;\r\n    CFAPattern: number;\r\n    BatteryLevel: number;\r\n    Copyright: number;\r\n    ExposureTime: number;\r\n    ImageResources: number;\r\n    ExifTag: number;\r\n    InterColorProfile: number;\r\n    GPSTag: number;\r\n    Interlace: number;\r\n    TimeZoneOffset: number;\r\n    SelfTimerMode: number;\r\n    FlashEnergy: number;\r\n    SpatialFrequencyResponse: number;\r\n    Noise: number;\r\n    FocalPlaneXResolution: number;\r\n    FocalPlaneYResolution: number;\r\n    FocalPlaneResolutionUnit: number;\r\n    ImageNumber: number;\r\n    SecurityClassification: number;\r\n    ImageHistory: number;\r\n    ExposureIndex: number;\r\n    TIFFEPStandardID: number;\r\n    SensingMethod: number;\r\n    XPTitle: number;\r\n    XPComment: number;\r\n    XPAuthor: number;\r\n    XPKeywords: number;\r\n    XPSubject: number;\r\n    PrintImageMatching: number;\r\n    DNGVersion: number;\r\n    DNGBackwardVersion: number;\r\n    UniqueCameraModel: number;\r\n    LocalizedCameraModel: number;\r\n    CFAPlaneColor: number;\r\n    CFALayout: number;\r\n    LinearizationTable: number;\r\n    BlackLevelRepeatDim: number;\r\n    BlackLevel: number;\r\n    BlackLevelDeltaH: number;\r\n    BlackLevelDeltaV: number;\r\n    WhiteLevel: number;\r\n    DefaultScale: number;\r\n    DefaultCropOrigin: number;\r\n    DefaultCropSize: number;\r\n    ColorMatrix1: number;\r\n    ColorMatrix2: number;\r\n    CameraCalibration1: number;\r\n    CameraCalibration2: number;\r\n    ReductionMatrix1: number;\r\n    ReductionMatrix2: number;\r\n    AnalogBalance: number;\r\n    AsShotNeutral: number;\r\n    AsShotWhiteXY: number;\r\n    BaselineExposure: number;\r\n    BaselineNoise: number;\r\n    BaselineSharpness: number;\r\n    BayerGreenSplit: number;\r\n    LinearResponseLimit: number;\r\n    CameraSerialNumber: number;\r\n    LensInfo: number;\r\n    ChromaBlurRadius: number;\r\n    AntiAliasStrength: number;\r\n    ShadowScale: number;\r\n    DNGPrivateData: number;\r\n    MakerNoteSafety: number;\r\n    CalibrationIlluminant1: number;\r\n    CalibrationIlluminant2: number;\r\n    BestQualityScale: number;\r\n    RawDataUniqueID: number;\r\n    OriginalRawFileName: number;\r\n    OriginalRawFileData: number;\r\n    ActiveArea: number;\r\n    MaskedAreas: number;\r\n    AsShotICCProfile: number;\r\n    AsShotPreProfileMatrix: number;\r\n    CurrentICCProfile: number;\r\n    CurrentPreProfileMatrix: number;\r\n    ColorimetricReference: number;\r\n    CameraCalibrationSignature: number;\r\n    ProfileCalibrationSignature: number;\r\n    AsShotProfileName: number;\r\n    NoiseReductionApplied: number;\r\n    ProfileName: number;\r\n    ProfileHueSatMapDims: number;\r\n    ProfileHueSatMapData1: number;\r\n    ProfileHueSatMapData2: number;\r\n    ProfileToneCurve: number;\r\n    ProfileEmbedPolicy: number;\r\n    ProfileCopyright: number;\r\n    ForwardMatrix1: number;\r\n    ForwardMatrix2: number;\r\n    PreviewApplicationName: number;\r\n    PreviewApplicationVersion: number;\r\n    PreviewSettingsName: number;\r\n    PreviewSettingsDigest: number;\r\n    PreviewColorSpace: number;\r\n    PreviewDateTime: number;\r\n    RawImageDigest: number;\r\n    OriginalRawFileDigest: number;\r\n    SubTileBlockSize: number;\r\n    RowInterleaveFactor: number;\r\n    ProfileLookTableDims: number;\r\n    ProfileLookTableData: number;\r\n    OpcodeList1: number;\r\n    OpcodeList2: number;\r\n    OpcodeList3: number;\r\n    NoiseProfile: number;\r\n  };\r\n  ExifIFD: {\r\n    ExposureTime: number;\r\n    FNumber: number;\r\n    ExposureProgram: number;\r\n    SpectralSensitivity: number;\r\n    ISOSpeedRatings: number;\r\n    OECF: number;\r\n    SensitivityType: number;\r\n    StandardOutputSensitivity: number;\r\n    RecommendedExposureIndex: number;\r\n    ISOSpeed: number;\r\n    ISOSpeedLatitudeyyy: number;\r\n    ISOSpeedLatitudezzz: number;\r\n    ExifVersion: number;\r\n    DateTimeOriginal: number;\r\n    DateTimeDigitized: number;\r\n    ComponentsConfiguration: number;\r\n    CompressedBitsPerPixel: number;\r\n    ShutterSpeedValue: number;\r\n    ApertureValue: number;\r\n    BrightnessValue: number;\r\n    ExposureBiasValue: number;\r\n    MaxApertureValue: number;\r\n    SubjectDistance: number;\r\n    MeteringMode: number;\r\n    LightSource: number;\r\n    Flash: number;\r\n    FocalLength: number;\r\n    SubjectArea: number;\r\n    MakerNote: number;\r\n    UserComment: number;\r\n    SubSecTime: number;\r\n    SubSecTimeOriginal: number;\r\n    SubSecTimeDigitized: number;\r\n    FlashpixVersion: number;\r\n    ColorSpace: number;\r\n    PixelXDimension: number;\r\n    PixelYDimension: number;\r\n    RelatedSoundFile: number;\r\n    InteroperabilityTag: number;\r\n    FlashEnergy: number;\r\n    SpatialFrequencyResponse: number;\r\n    FocalPlaneXResolution: number;\r\n    FocalPlaneYResolution: number;\r\n    FocalPlaneResolutionUnit: number;\r\n    SubjectLocation: number;\r\n    ExposureIndex: number;\r\n    SensingMethod: number;\r\n    FileSource: number;\r\n    SceneType: number;\r\n    CFAPattern: number;\r\n    CustomRendered: number;\r\n    ExposureMode: number;\r\n    WhiteBalance: number;\r\n    DigitalZoomRatio: number;\r\n    FocalLengthIn35mmFilm: number;\r\n    SceneCaptureType: number;\r\n    GainControl: number;\r\n    Contrast: number;\r\n    Saturation: number;\r\n    Sharpness: number;\r\n    DeviceSettingDescription: number;\r\n    SubjectDistanceRange: number;\r\n    ImageUniqueID: number;\r\n    CameraOwnerName: number;\r\n    BodySerialNumber: number;\r\n    LensSpecification: number;\r\n    LensMake: number;\r\n    LensModel: number;\r\n    LensSerialNumber: number;\r\n    Gamma: number;\r\n  };\r\n  GPSIFD: {\r\n    GPSVersionID: number;\r\n    GPSLatitudeRef: number;\r\n    GPSLatitude: number;\r\n    GPSLongitudeRef: number;\r\n    GPSLongitude: number;\r\n    GPSAltitudeRef: number;\r\n    GPSAltitude: number;\r\n    GPSTimeStamp: number;\r\n    GPSSatellites: number;\r\n    GPSStatus: number;\r\n    GPSMeasureMode: number;\r\n    GPSDOP: number;\r\n    GPSSpeedRef: number;\r\n    GPSSpeed: number;\r\n    GPSTrackRef: number;\r\n    GPSTrack: number;\r\n    GPSImgDirectionRef: number;\r\n    GPSImgDirection: number;\r\n    GPSMapDatum: number;\r\n    GPSDestLatitudeRef: number;\r\n    GPSDestLatitude: number;\r\n    GPSDestLongitudeRef: number;\r\n    GPSDestLongitude: number;\r\n    GPSDestBearingRef: number;\r\n    GPSDestBearing: number;\r\n    GPSDestDistanceRef: number;\r\n    GPSDestDistance: number;\r\n    GPSProcessingMethod: number;\r\n    GPSAreaInformation: number;\r\n    GPSDateStamp: number;\r\n    GPSDifferential: number;\r\n    GPSHPositioningError: number;\r\n  };\r\n  InteropIFD: {\r\n    InteroperabilityIndex: number;\r\n  };\r\n}\r\n\r\nexport type ErrorCallback = (e: string) => void;\r\n","export class ValueConvertError extends Error {}\r\n","import { Types, ITags, ITagValues } from './interfaces';\r\n\r\nexport const TypeNums: { [key: number]: string } = {\r\n  1: 'Byte',\r\n  2: 'Ascii',\r\n  3: 'Short',\r\n  4: 'Long',\r\n  5: 'Rational',\r\n  7: 'Undefined',\r\n  9: 'SLong',\r\n  10: 'SRational',\r\n};\r\n\r\nconst ImageTagElement = {\r\n  11: {\r\n    name: 'ProcessingSoftware',\r\n    type: Types.Ascii,\r\n  },\r\n  254: {\r\n    name: 'NewSubfileType',\r\n    type: Types.Long,\r\n  },\r\n  255: {\r\n    name: 'SubfileType',\r\n    type: Types.Short,\r\n  },\r\n  256: {\r\n    name: 'ImageWidth',\r\n    type: Types.Long,\r\n  },\r\n  257: {\r\n    name: 'ImageLength',\r\n    type: Types.Long,\r\n  },\r\n  258: {\r\n    name: 'BitsPerSample',\r\n    type: Types.Short,\r\n  },\r\n  259: {\r\n    name: 'Compression',\r\n    type: Types.Short,\r\n  },\r\n  262: {\r\n    name: 'PhotometricInterpretation',\r\n    type: Types.Short,\r\n  },\r\n  263: {\r\n    name: 'Threshholding',\r\n    type: Types.Short,\r\n  },\r\n  264: {\r\n    name: 'CellWidth',\r\n    type: Types.Short,\r\n  },\r\n  265: {\r\n    name: 'CellLength',\r\n    type: Types.Short,\r\n  },\r\n  266: {\r\n    name: 'FillOrder',\r\n    type: Types.Short,\r\n  },\r\n  269: {\r\n    name: 'DocumentName',\r\n    type: Types.Ascii,\r\n  },\r\n  270: {\r\n    name: 'ImageDescription',\r\n    type: Types.Ascii,\r\n  },\r\n  271: {\r\n    name: 'Make',\r\n    type: Types.Ascii,\r\n  },\r\n  272: {\r\n    name: 'Model',\r\n    type: Types.Ascii,\r\n  },\r\n  273: {\r\n    name: 'StripOffsets',\r\n    type: Types.Long,\r\n  },\r\n  274: {\r\n    name: 'Orientation',\r\n    type: Types.Short,\r\n  },\r\n  277: {\r\n    name: 'SamplesPerPixel',\r\n    type: Types.Short,\r\n  },\r\n  278: {\r\n    name: 'RowsPerStrip',\r\n    type: Types.Long,\r\n  },\r\n  279: {\r\n    name: 'StripByteCounts',\r\n    type: Types.Long,\r\n  },\r\n  282: {\r\n    name: 'XResolution',\r\n    type: Types.Rational,\r\n  },\r\n  283: {\r\n    name: 'YResolution',\r\n    type: Types.Rational,\r\n  },\r\n  284: {\r\n    name: 'PlanarConfiguration',\r\n    type: Types.Short,\r\n  },\r\n  290: {\r\n    name: 'GrayResponseUnit',\r\n    type: Types.Short,\r\n  },\r\n  291: {\r\n    name: 'GrayResponseCurve',\r\n    type: Types.Short,\r\n  },\r\n  292: {\r\n    name: 'T4Options',\r\n    type: Types.Long,\r\n  },\r\n  293: {\r\n    name: 'T6Options',\r\n    type: Types.Long,\r\n  },\r\n  296: {\r\n    name: 'ResolutionUnit',\r\n    type: Types.Short,\r\n  },\r\n  301: {\r\n    name: 'TransferFunction',\r\n    type: Types.Short,\r\n  },\r\n  305: {\r\n    name: 'Software',\r\n    type: Types.Ascii,\r\n  },\r\n  306: {\r\n    name: 'DateTime',\r\n    type: Types.Ascii,\r\n  },\r\n  315: {\r\n    name: 'Artist',\r\n    type: Types.Ascii,\r\n  },\r\n  316: {\r\n    name: 'HostComputer',\r\n    type: Types.Ascii,\r\n  },\r\n  317: {\r\n    name: 'Predictor',\r\n    type: Types.Short,\r\n  },\r\n  318: {\r\n    name: 'WhitePoint',\r\n    type: Types.Rational,\r\n  },\r\n  319: {\r\n    name: 'PrimaryChromaticities',\r\n    type: Types.Rational,\r\n  },\r\n  320: {\r\n    name: 'ColorMap',\r\n    type: Types.Short,\r\n  },\r\n  321: {\r\n    name: 'HalftoneHints',\r\n    type: Types.Short,\r\n  },\r\n  322: {\r\n    name: 'TileWidth',\r\n    type: Types.Short,\r\n  },\r\n  323: {\r\n    name: 'TileLength',\r\n    type: Types.Short,\r\n  },\r\n  324: {\r\n    name: 'TileOffsets',\r\n    type: Types.Short,\r\n  },\r\n  325: {\r\n    name: 'TileByteCounts',\r\n    type: Types.Short,\r\n  },\r\n  330: {\r\n    name: 'SubIFDs',\r\n    type: Types.Long,\r\n  },\r\n  332: {\r\n    name: 'InkSet',\r\n    type: Types.Short,\r\n  },\r\n  333: {\r\n    name: 'InkNames',\r\n    type: Types.Ascii,\r\n  },\r\n  334: {\r\n    name: 'NumberOfInks',\r\n    type: Types.Short,\r\n  },\r\n  336: {\r\n    name: 'DotRange',\r\n    type: Types.Byte,\r\n  },\r\n  337: {\r\n    name: 'TargetPrinter',\r\n    type: Types.Ascii,\r\n  },\r\n  338: {\r\n    name: 'ExtraSamples',\r\n    type: Types.Short,\r\n  },\r\n  339: {\r\n    name: 'SampleFormat',\r\n    type: Types.Short,\r\n  },\r\n  340: {\r\n    name: 'SMinSampleValue',\r\n    type: Types.Short,\r\n  },\r\n  341: {\r\n    name: 'SMaxSampleValue',\r\n    type: Types.Short,\r\n  },\r\n  342: {\r\n    name: 'TransferRange',\r\n    type: Types.Short,\r\n  },\r\n  343: {\r\n    name: 'ClipPath',\r\n    type: Types.Byte,\r\n  },\r\n  344: {\r\n    name: 'XClipPathUnits',\r\n    type: Types.Long,\r\n  },\r\n  345: {\r\n    name: 'YClipPathUnits',\r\n    type: Types.Long,\r\n  },\r\n  346: {\r\n    name: 'Indexed',\r\n    type: Types.Short,\r\n  },\r\n  347: {\r\n    name: 'JPEGTables',\r\n    type: Types.Undefined,\r\n  },\r\n  351: {\r\n    name: 'OPIProxy',\r\n    type: Types.Short,\r\n  },\r\n  512: {\r\n    name: 'JPEGProc',\r\n    type: Types.Long,\r\n  },\r\n  513: {\r\n    name: 'JPEGInterchangeFormat',\r\n    type: Types.Long,\r\n  },\r\n  514: {\r\n    name: 'JPEGInterchangeFormatLength',\r\n    type: Types.Long,\r\n  },\r\n  515: {\r\n    name: 'JPEGRestartInterval',\r\n    type: Types.Short,\r\n  },\r\n  517: {\r\n    name: 'JPEGLosslessPredictors',\r\n    type: Types.Short,\r\n  },\r\n  518: {\r\n    name: 'JPEGPointTransforms',\r\n    type: Types.Short,\r\n  },\r\n  519: {\r\n    name: 'JPEGQTables',\r\n    type: Types.Long,\r\n  },\r\n  520: {\r\n    name: 'JPEGDCTables',\r\n    type: Types.Long,\r\n  },\r\n  521: {\r\n    name: 'JPEGACTables',\r\n    type: Types.Long,\r\n  },\r\n  529: {\r\n    name: 'YCbCrCoefficients',\r\n    type: Types.Rational,\r\n  },\r\n  530: {\r\n    name: 'YCbCrSubSampling',\r\n    type: Types.Short,\r\n  },\r\n  531: {\r\n    name: 'YCbCrPositioning',\r\n    type: Types.Short,\r\n  },\r\n  532: {\r\n    name: 'ReferenceBlackWhite',\r\n    type: Types.Rational,\r\n  },\r\n  700: {\r\n    name: 'XMLPacket',\r\n    type: Types.Byte,\r\n  },\r\n  18246: {\r\n    name: 'Rating',\r\n    type: Types.Short,\r\n  },\r\n  18249: {\r\n    name: 'RatingPercent',\r\n    type: Types.Short,\r\n  },\r\n  32781: {\r\n    name: 'ImageID',\r\n    type: Types.Ascii,\r\n  },\r\n  33421: {\r\n    name: 'CFARepeatPatternDim',\r\n    type: Types.Short,\r\n  },\r\n  33422: {\r\n    name: 'CFAPattern',\r\n    type: Types.Byte,\r\n  },\r\n  33423: {\r\n    name: 'BatteryLevel',\r\n    type: Types.Rational,\r\n  },\r\n  33432: {\r\n    name: 'Copyright',\r\n    type: Types.Ascii,\r\n  },\r\n  33434: {\r\n    name: 'ExposureTime',\r\n    type: Types.Rational,\r\n  },\r\n  34377: {\r\n    name: 'ImageResources',\r\n    type: Types.Byte,\r\n  },\r\n  34665: {\r\n    name: 'ExifTag',\r\n    type: Types.Long,\r\n  },\r\n  34675: {\r\n    name: 'InterColorProfile',\r\n    type: Types.Undefined,\r\n  },\r\n  34853: {\r\n    name: 'GPSTag',\r\n    type: Types.Long,\r\n  },\r\n  34857: {\r\n    name: 'Interlace',\r\n    type: Types.Short,\r\n  },\r\n  34858: {\r\n    name: 'TimeZoneOffset',\r\n    type: Types.Long,\r\n  },\r\n  34859: {\r\n    name: 'SelfTimerMode',\r\n    type: Types.Short,\r\n  },\r\n  37387: {\r\n    name: 'FlashEnergy',\r\n    type: Types.Rational,\r\n  },\r\n  37388: {\r\n    name: 'SpatialFrequencyResponse',\r\n    type: Types.Undefined,\r\n  },\r\n  37389: {\r\n    name: 'Noise',\r\n    type: Types.Undefined,\r\n  },\r\n  37390: {\r\n    name: 'FocalPlaneXResolution',\r\n    type: Types.Rational,\r\n  },\r\n  37391: {\r\n    name: 'FocalPlaneYResolution',\r\n    type: Types.Rational,\r\n  },\r\n  37392: {\r\n    name: 'FocalPlaneResolutionUnit',\r\n    type: Types.Short,\r\n  },\r\n  37393: {\r\n    name: 'ImageNumber',\r\n    type: Types.Long,\r\n  },\r\n  37394: {\r\n    name: 'SecurityClassification',\r\n    type: Types.Ascii,\r\n  },\r\n  37395: {\r\n    name: 'ImageHistory',\r\n    type: Types.Ascii,\r\n  },\r\n  37397: {\r\n    name: 'ExposureIndex',\r\n    type: Types.Rational,\r\n  },\r\n  37398: {\r\n    name: 'TIFFEPStandardID',\r\n    type: Types.Byte,\r\n  },\r\n  37399: {\r\n    name: 'SensingMethod',\r\n    type: Types.Short,\r\n  },\r\n  40091: {\r\n    name: 'XPTitle',\r\n    type: Types.Byte,\r\n  },\r\n  40092: {\r\n    name: 'XPComment',\r\n    type: Types.Byte,\r\n  },\r\n  40093: {\r\n    name: 'XPAuthor',\r\n    type: Types.Byte,\r\n  },\r\n  40094: {\r\n    name: 'XPKeywords',\r\n    type: Types.Byte,\r\n  },\r\n  40095: {\r\n    name: 'XPSubject',\r\n    type: Types.Byte,\r\n  },\r\n  50341: {\r\n    name: 'PrintImageMatching',\r\n    type: Types.Undefined,\r\n  },\r\n  50706: {\r\n    name: 'DNGVersion',\r\n    type: Types.Byte,\r\n  },\r\n  50707: {\r\n    name: 'DNGBackwardVersion',\r\n    type: Types.Byte,\r\n  },\r\n  50708: {\r\n    name: 'UniqueCameraModel',\r\n    type: Types.Ascii,\r\n  },\r\n  50709: {\r\n    name: 'LocalizedCameraModel',\r\n    type: Types.Byte,\r\n  },\r\n  50710: {\r\n    name: 'CFAPlaneColor',\r\n    type: Types.Byte,\r\n  },\r\n  50711: {\r\n    name: 'CFALayout',\r\n    type: Types.Short,\r\n  },\r\n  50712: {\r\n    name: 'LinearizationTable',\r\n    type: Types.Short,\r\n  },\r\n  50713: {\r\n    name: 'BlackLevelRepeatDim',\r\n    type: Types.Short,\r\n  },\r\n  50714: {\r\n    name: 'BlackLevel',\r\n    type: Types.Rational,\r\n  },\r\n  50715: {\r\n    name: 'BlackLevelDeltaH',\r\n    type: Types.SRational,\r\n  },\r\n  50716: {\r\n    name: 'BlackLevelDeltaV',\r\n    type: Types.SRational,\r\n  },\r\n  50717: {\r\n    name: 'WhiteLevel',\r\n    type: Types.Short,\r\n  },\r\n  50718: {\r\n    name: 'DefaultScale',\r\n    type: Types.Rational,\r\n  },\r\n  50719: {\r\n    name: 'DefaultCropOrigin',\r\n    type: Types.Short,\r\n  },\r\n  50720: {\r\n    name: 'DefaultCropSize',\r\n    type: Types.Short,\r\n  },\r\n  50721: {\r\n    name: 'ColorMatrix1',\r\n    type: Types.SRational,\r\n  },\r\n  50722: {\r\n    name: 'ColorMatrix2',\r\n    type: Types.SRational,\r\n  },\r\n  50723: {\r\n    name: 'CameraCalibration1',\r\n    type: Types.SRational,\r\n  },\r\n  50724: {\r\n    name: 'CameraCalibration2',\r\n    type: Types.SRational,\r\n  },\r\n  50725: {\r\n    name: 'ReductionMatrix1',\r\n    type: Types.SRational,\r\n  },\r\n  50726: {\r\n    name: 'ReductionMatrix2',\r\n    type: Types.SRational,\r\n  },\r\n  50727: {\r\n    name: 'AnalogBalance',\r\n    type: Types.Rational,\r\n  },\r\n  50728: {\r\n    name: 'AsShotNeutral',\r\n    type: Types.Short,\r\n  },\r\n  50729: {\r\n    name: 'AsShotWhiteXY',\r\n    type: Types.Rational,\r\n  },\r\n  50730: {\r\n    name: 'BaselineExposure',\r\n    type: Types.SRational,\r\n  },\r\n  50731: {\r\n    name: 'BaselineNoise',\r\n    type: Types.Rational,\r\n  },\r\n  50732: {\r\n    name: 'BaselineSharpness',\r\n    type: Types.Rational,\r\n  },\r\n  50733: {\r\n    name: 'BayerGreenSplit',\r\n    type: Types.Long,\r\n  },\r\n  50734: {\r\n    name: 'LinearResponseLimit',\r\n    type: Types.Rational,\r\n  },\r\n  50735: {\r\n    name: 'CameraSerialNumber',\r\n    type: Types.Ascii,\r\n  },\r\n  50736: {\r\n    name: 'LensInfo',\r\n    type: Types.Rational,\r\n  },\r\n  50737: {\r\n    name: 'ChromaBlurRadius',\r\n    type: Types.Rational,\r\n  },\r\n  50738: {\r\n    name: 'AntiAliasStrength',\r\n    type: Types.Rational,\r\n  },\r\n  50739: {\r\n    name: 'ShadowScale',\r\n    type: Types.SRational,\r\n  },\r\n  50740: {\r\n    name: 'DNGPrivateData',\r\n    type: Types.Byte,\r\n  },\r\n  50741: {\r\n    name: 'MakerNoteSafety',\r\n    type: Types.Short,\r\n  },\r\n  50778: {\r\n    name: 'CalibrationIlluminant1',\r\n    type: Types.Short,\r\n  },\r\n  50779: {\r\n    name: 'CalibrationIlluminant2',\r\n    type: Types.Short,\r\n  },\r\n  50780: {\r\n    name: 'BestQualityScale',\r\n    type: Types.Rational,\r\n  },\r\n  50781: {\r\n    name: 'RawDataUniqueID',\r\n    type: Types.Byte,\r\n  },\r\n  50827: {\r\n    name: 'OriginalRawFileName',\r\n    type: Types.Byte,\r\n  },\r\n  50828: {\r\n    name: 'OriginalRawFileData',\r\n    type: Types.Undefined,\r\n  },\r\n  50829: {\r\n    name: 'ActiveArea',\r\n    type: Types.Short,\r\n  },\r\n  50830: {\r\n    name: 'MaskedAreas',\r\n    type: Types.Short,\r\n  },\r\n  50831: {\r\n    name: 'AsShotICCProfile',\r\n    type: Types.Undefined,\r\n  },\r\n  50832: {\r\n    name: 'AsShotPreProfileMatrix',\r\n    type: Types.SRational,\r\n  },\r\n  50833: {\r\n    name: 'CurrentICCProfile',\r\n    type: Types.Undefined,\r\n  },\r\n  50834: {\r\n    name: 'CurrentPreProfileMatrix',\r\n    type: Types.SRational,\r\n  },\r\n  50879: {\r\n    name: 'ColorimetricReference',\r\n    type: Types.Short,\r\n  },\r\n  50931: {\r\n    name: 'CameraCalibrationSignature',\r\n    type: Types.Byte,\r\n  },\r\n  50932: {\r\n    name: 'ProfileCalibrationSignature',\r\n    type: Types.Byte,\r\n  },\r\n  50934: {\r\n    name: 'AsShotProfileName',\r\n    type: Types.Byte,\r\n  },\r\n  50935: {\r\n    name: 'NoiseReductionApplied',\r\n    type: Types.Rational,\r\n  },\r\n  50936: {\r\n    name: 'ProfileName',\r\n    type: Types.Byte,\r\n  },\r\n  50937: {\r\n    name: 'ProfileHueSatMapDims',\r\n    type: Types.Long,\r\n  },\r\n  50941: {\r\n    name: 'ProfileEmbedPolicy',\r\n    type: Types.Long,\r\n  },\r\n  50942: {\r\n    name: 'ProfileCopyright',\r\n    type: Types.Byte,\r\n  },\r\n  50964: {\r\n    name: 'ForwardMatrix1',\r\n    type: Types.SRational,\r\n  },\r\n  50965: {\r\n    name: 'ForwardMatrix2',\r\n    type: Types.SRational,\r\n  },\r\n  50966: {\r\n    name: 'PreviewApplicationName',\r\n    type: Types.Byte,\r\n  },\r\n  50967: {\r\n    name: 'PreviewApplicationVersion',\r\n    type: Types.Byte,\r\n  },\r\n  50968: {\r\n    name: 'PreviewSettingsName',\r\n    type: Types.Byte,\r\n  },\r\n  50969: {\r\n    name: 'PreviewSettingsDigest',\r\n    type: Types.Byte,\r\n  },\r\n  50970: {\r\n    name: 'PreviewColorSpace',\r\n    type: Types.Long,\r\n  },\r\n  50971: {\r\n    name: 'PreviewDateTime',\r\n    type: Types.Ascii,\r\n  },\r\n  50972: {\r\n    name: 'RawImageDigest',\r\n    type: Types.Undefined,\r\n  },\r\n  50973: {\r\n    name: 'OriginalRawFileDigest',\r\n    type: Types.Undefined,\r\n  },\r\n  50974: {\r\n    name: 'SubTileBlockSize',\r\n    type: Types.Long,\r\n  },\r\n  50975: {\r\n    name: 'RowInterleaveFactor',\r\n    type: Types.Long,\r\n  },\r\n  50981: {\r\n    name: 'ProfileLookTableDims',\r\n    type: Types.Long,\r\n  },\r\n  51008: {\r\n    name: 'OpcodeList1',\r\n    type: Types.Undefined,\r\n  },\r\n  51009: {\r\n    name: 'OpcodeList2',\r\n    type: Types.Undefined,\r\n  },\r\n  51022: {\r\n    name: 'OpcodeList3',\r\n    type: Types.Undefined,\r\n  },\r\n};\r\n\r\nexport const Tags: ITags = {\r\n  Image: ImageTagElement,\r\n  '0th': ImageTagElement,\r\n  '1st': ImageTagElement,\r\n  Exif: {\r\n    33434: {\r\n      name: 'ExposureTime',\r\n      type: Types.Rational,\r\n    },\r\n    33437: {\r\n      name: 'FNumber',\r\n      type: Types.Rational,\r\n    },\r\n    34850: {\r\n      name: 'ExposureProgram',\r\n      type: Types.Short,\r\n    },\r\n    34852: {\r\n      name: 'SpectralSensitivity',\r\n      type: Types.Ascii,\r\n    },\r\n    34855: {\r\n      name: 'ISOSpeedRatings',\r\n      type: Types.Short,\r\n    },\r\n    34856: {\r\n      name: 'OECF',\r\n      type: Types.Undefined,\r\n    },\r\n    34864: {\r\n      name: 'SensitivityType',\r\n      type: Types.Short,\r\n    },\r\n    34865: {\r\n      name: 'StandardOutputSensitivity',\r\n      type: Types.Long,\r\n    },\r\n    34866: {\r\n      name: 'RecommendedExposureIndex',\r\n      type: Types.Long,\r\n    },\r\n    34867: {\r\n      name: 'ISOSpeed',\r\n      type: Types.Long,\r\n    },\r\n    34868: {\r\n      name: 'ISOSpeedLatitudeyyy',\r\n      type: Types.Long,\r\n    },\r\n    34869: {\r\n      name: 'ISOSpeedLatitudezzz',\r\n      type: Types.Long,\r\n    },\r\n    36864: {\r\n      name: 'ExifVersion',\r\n      type: Types.Undefined,\r\n    },\r\n    36867: {\r\n      name: 'DateTimeOriginal',\r\n      type: Types.Ascii,\r\n    },\r\n    36868: {\r\n      name: 'DateTimeDigitized',\r\n      type: Types.Ascii,\r\n    },\r\n    37121: {\r\n      name: 'ComponentsConfiguration',\r\n      type: Types.Undefined,\r\n    },\r\n    37122: {\r\n      name: 'CompressedBitsPerPixel',\r\n      type: Types.Rational,\r\n    },\r\n    37377: {\r\n      name: 'ShutterSpeedValue',\r\n      type: Types.SRational,\r\n    },\r\n    37378: {\r\n      name: 'ApertureValue',\r\n      type: Types.Rational,\r\n    },\r\n    37379: {\r\n      name: 'BrightnessValue',\r\n      type: Types.SRational,\r\n    },\r\n    37380: {\r\n      name: 'ExposureBiasValue',\r\n      type: Types.SRational,\r\n    },\r\n    37381: {\r\n      name: 'MaxApertureValue',\r\n      type: Types.Rational,\r\n    },\r\n    37382: {\r\n      name: 'SubjectDistance',\r\n      type: Types.Rational,\r\n    },\r\n    37383: {\r\n      name: 'MeteringMode',\r\n      type: Types.Short,\r\n    },\r\n    37384: {\r\n      name: 'LightSource',\r\n      type: Types.Short,\r\n    },\r\n    37385: {\r\n      name: 'Flash',\r\n      type: Types.Short,\r\n    },\r\n    37386: {\r\n      name: 'FocalLength',\r\n      type: Types.Rational,\r\n    },\r\n    37396: {\r\n      name: 'SubjectArea',\r\n      type: Types.Short,\r\n    },\r\n    37500: {\r\n      name: 'MakerNote',\r\n      type: Types.Undefined,\r\n    },\r\n    37510: {\r\n      name: 'UserComment',\r\n      type: Types.Ascii,\r\n    },\r\n    37520: {\r\n      name: 'SubSecTime',\r\n      type: Types.Ascii,\r\n    },\r\n    37521: {\r\n      name: 'SubSecTimeOriginal',\r\n      type: Types.Ascii,\r\n    },\r\n    37522: {\r\n      name: 'SubSecTimeDigitized',\r\n      type: Types.Ascii,\r\n    },\r\n    40960: {\r\n      name: 'FlashpixVersion',\r\n      type: Types.Undefined,\r\n    },\r\n    40961: {\r\n      name: 'ColorSpace',\r\n      type: Types.Short,\r\n    },\r\n    40962: {\r\n      name: 'PixelXDimension',\r\n      type: Types.Long,\r\n    },\r\n    40963: {\r\n      name: 'PixelYDimension',\r\n      type: Types.Long,\r\n    },\r\n    40964: {\r\n      name: 'RelatedSoundFile',\r\n      type: Types.Ascii,\r\n    },\r\n    40965: {\r\n      name: 'InteroperabilityTag',\r\n      type: Types.Long,\r\n    },\r\n    41483: {\r\n      name: 'FlashEnergy',\r\n      type: Types.Rational,\r\n    },\r\n    41484: {\r\n      name: 'SpatialFrequencyResponse',\r\n      type: Types.Undefined,\r\n    },\r\n    41486: {\r\n      name: 'FocalPlaneXResolution',\r\n      type: Types.Rational,\r\n    },\r\n    41487: {\r\n      name: 'FocalPlaneYResolution',\r\n      type: Types.Rational,\r\n    },\r\n    41488: {\r\n      name: 'FocalPlaneResolutionUnit',\r\n      type: Types.Short,\r\n    },\r\n    41492: {\r\n      name: 'SubjectLocation',\r\n      type: Types.Short,\r\n    },\r\n    41493: {\r\n      name: 'ExposureIndex',\r\n      type: Types.Rational,\r\n    },\r\n    41495: {\r\n      name: 'SensingMethod',\r\n      type: Types.Short,\r\n    },\r\n    41728: {\r\n      name: 'FileSource',\r\n      type: Types.Undefined,\r\n    },\r\n    41729: {\r\n      name: 'SceneType',\r\n      type: Types.Undefined,\r\n    },\r\n    41730: {\r\n      name: 'CFAPattern',\r\n      type: Types.Undefined,\r\n    },\r\n    41985: {\r\n      name: 'CustomRendered',\r\n      type: Types.Short,\r\n    },\r\n    41986: {\r\n      name: 'ExposureMode',\r\n      type: Types.Short,\r\n    },\r\n    41987: {\r\n      name: 'WhiteBalance',\r\n      type: Types.Short,\r\n    },\r\n    41988: {\r\n      name: 'DigitalZoomRatio',\r\n      type: Types.Rational,\r\n    },\r\n    41989: {\r\n      name: 'FocalLengthIn35mmFilm',\r\n      type: Types.Short,\r\n    },\r\n    41990: {\r\n      name: 'SceneCaptureType',\r\n      type: Types.Short,\r\n    },\r\n    41991: {\r\n      name: 'GainControl',\r\n      type: Types.Short,\r\n    },\r\n    41992: {\r\n      name: 'Contrast',\r\n      type: Types.Short,\r\n    },\r\n    41993: {\r\n      name: 'Saturation',\r\n      type: Types.Short,\r\n    },\r\n    41994: {\r\n      name: 'Sharpness',\r\n      type: Types.Short,\r\n    },\r\n    41995: {\r\n      name: 'DeviceSettingDescription',\r\n      type: Types.Undefined,\r\n    },\r\n    41996: {\r\n      name: 'SubjectDistanceRange',\r\n      type: Types.Short,\r\n    },\r\n    42016: {\r\n      name: 'ImageUniqueID',\r\n      type: Types.Ascii,\r\n    },\r\n    42032: {\r\n      name: 'CameraOwnerName',\r\n      type: Types.Ascii,\r\n    },\r\n    42033: {\r\n      name: 'BodySerialNumber',\r\n      type: Types.Ascii,\r\n    },\r\n    42034: {\r\n      name: 'LensSpecification',\r\n      type: Types.Rational,\r\n    },\r\n    42035: {\r\n      name: 'LensMake',\r\n      type: Types.Ascii,\r\n    },\r\n    42036: {\r\n      name: 'LensModel',\r\n      type: Types.Ascii,\r\n    },\r\n    42037: {\r\n      name: 'LensSerialNumber',\r\n      type: Types.Ascii,\r\n    },\r\n    42240: {\r\n      name: 'Gamma',\r\n      type: Types.Rational,\r\n    },\r\n  },\r\n  GPS: {\r\n    0: {\r\n      name: 'GPSVersionID',\r\n      type: Types.Byte,\r\n    },\r\n    1: {\r\n      name: 'GPSLatitudeRef',\r\n      type: Types.Ascii,\r\n    },\r\n    2: {\r\n      name: 'GPSLatitude',\r\n      type: Types.Rational,\r\n    },\r\n    3: {\r\n      name: 'GPSLongitudeRef',\r\n      type: Types.Ascii,\r\n    },\r\n    4: {\r\n      name: 'GPSLongitude',\r\n      type: Types.Rational,\r\n    },\r\n    5: {\r\n      name: 'GPSAltitudeRef',\r\n      type: Types.Byte,\r\n    },\r\n    6: {\r\n      name: 'GPSAltitude',\r\n      type: Types.Rational,\r\n    },\r\n    7: {\r\n      name: 'GPSTimeStamp',\r\n      type: Types.Rational,\r\n    },\r\n    8: {\r\n      name: 'GPSSatellites',\r\n      type: Types.Ascii,\r\n    },\r\n    9: {\r\n      name: 'GPSStatus',\r\n      type: Types.Ascii,\r\n    },\r\n    10: {\r\n      name: 'GPSMeasureMode',\r\n      type: Types.Ascii,\r\n    },\r\n    11: {\r\n      name: 'GPSDOP',\r\n      type: Types.Rational,\r\n    },\r\n    12: {\r\n      name: 'GPSSpeedRef',\r\n      type: Types.Ascii,\r\n    },\r\n    13: {\r\n      name: 'GPSSpeed',\r\n      type: Types.Rational,\r\n    },\r\n    14: {\r\n      name: 'GPSTrackRef',\r\n      type: Types.Ascii,\r\n    },\r\n    15: {\r\n      name: 'GPSTrack',\r\n      type: Types.Rational,\r\n    },\r\n    16: {\r\n      name: 'GPSImgDirectionRef',\r\n      type: Types.Ascii,\r\n    },\r\n    17: {\r\n      name: 'GPSImgDirection',\r\n      type: Types.Rational,\r\n    },\r\n    18: {\r\n      name: 'GPSMapDatum',\r\n      type: Types.Ascii,\r\n    },\r\n    19: {\r\n      name: 'GPSDestLatitudeRef',\r\n      type: Types.Ascii,\r\n    },\r\n    20: {\r\n      name: 'GPSDestLatitude',\r\n      type: Types.Rational,\r\n    },\r\n    21: {\r\n      name: 'GPSDestLongitudeRef',\r\n      type: Types.Ascii,\r\n    },\r\n    22: {\r\n      name: 'GPSDestLongitude',\r\n      type: Types.Rational,\r\n    },\r\n    23: {\r\n      name: 'GPSDestBearingRef',\r\n      type: Types.Ascii,\r\n    },\r\n    24: {\r\n      name: 'GPSDestBearing',\r\n      type: Types.Rational,\r\n    },\r\n    25: {\r\n      name: 'GPSDestDistanceRef',\r\n      type: Types.Ascii,\r\n    },\r\n    26: {\r\n      name: 'GPSDestDistance',\r\n      type: Types.Rational,\r\n    },\r\n    27: {\r\n      name: 'GPSProcessingMethod',\r\n      type: Types.Undefined,\r\n    },\r\n    28: {\r\n      name: 'GPSAreaInformation',\r\n      type: Types.Undefined,\r\n    },\r\n    29: {\r\n      name: 'GPSDateStamp',\r\n      type: Types.Ascii,\r\n    },\r\n    30: {\r\n      name: 'GPSDifferential',\r\n      type: Types.Short,\r\n    },\r\n    31: {\r\n      name: 'GPSHPositioningError',\r\n      type: Types.Rational,\r\n    },\r\n  },\r\n  Interop: {\r\n    1: {\r\n      name: 'InteroperabilityIndex',\r\n      type: Types.Ascii,\r\n    },\r\n  },\r\n};\r\n\r\nexport const TagValues: ITagValues = {\r\n  ImageIFD: {\r\n    ProcessingSoftware: 11,\r\n    NewSubfileType: 254,\r\n    SubfileType: 255,\r\n    ImageWidth: 256,\r\n    ImageLength: 257,\r\n    BitsPerSample: 258,\r\n    Compression: 259,\r\n    PhotometricInterpretation: 262,\r\n    Threshholding: 263,\r\n    CellWidth: 264,\r\n    CellLength: 265,\r\n    FillOrder: 266,\r\n    DocumentName: 269,\r\n    ImageDescription: 270,\r\n    Make: 271,\r\n    Model: 272,\r\n    StripOffsets: 273,\r\n    Orientation: 274,\r\n    SamplesPerPixel: 277,\r\n    RowsPerStrip: 278,\r\n    StripByteCounts: 279,\r\n    XResolution: 282,\r\n    YResolution: 283,\r\n    PlanarConfiguration: 284,\r\n    GrayResponseUnit: 290,\r\n    GrayResponseCurve: 291,\r\n    T4Options: 292,\r\n    T6Options: 293,\r\n    ResolutionUnit: 296,\r\n    TransferFunction: 301,\r\n    Software: 305,\r\n    DateTime: 306,\r\n    Artist: 315,\r\n    HostComputer: 316,\r\n    Predictor: 317,\r\n    WhitePoint: 318,\r\n    PrimaryChromaticities: 319,\r\n    ColorMap: 320,\r\n    HalftoneHints: 321,\r\n    TileWidth: 322,\r\n    TileLength: 323,\r\n    TileOffsets: 324,\r\n    TileByteCounts: 325,\r\n    SubIFDs: 330,\r\n    InkSet: 332,\r\n    InkNames: 333,\r\n    NumberOfInks: 334,\r\n    DotRange: 336,\r\n    TargetPrinter: 337,\r\n    ExtraSamples: 338,\r\n    SampleFormat: 339,\r\n    SMinSampleValue: 340,\r\n    SMaxSampleValue: 341,\r\n    TransferRange: 342,\r\n    ClipPath: 343,\r\n    XClipPathUnits: 344,\r\n    YClipPathUnits: 345,\r\n    Indexed: 346,\r\n    JPEGTables: 347,\r\n    OPIProxy: 351,\r\n    JPEGProc: 512,\r\n    JPEGInterchangeFormat: 513,\r\n    JPEGInterchangeFormatLength: 514,\r\n    JPEGRestartInterval: 515,\r\n    JPEGLosslessPredictors: 517,\r\n    JPEGPointTransforms: 518,\r\n    JPEGQTables: 519,\r\n    JPEGDCTables: 520,\r\n    JPEGACTables: 521,\r\n    YCbCrCoefficients: 529,\r\n    YCbCrSubSampling: 530,\r\n    YCbCrPositioning: 531,\r\n    ReferenceBlackWhite: 532,\r\n    XMLPacket: 700,\r\n    Rating: 18246,\r\n    RatingPercent: 18249,\r\n    ImageID: 32781,\r\n    CFARepeatPatternDim: 33421,\r\n    CFAPattern: 33422,\r\n    BatteryLevel: 33423,\r\n    Copyright: 33432,\r\n    ExposureTime: 33434,\r\n    ImageResources: 34377,\r\n    ExifTag: 34665,\r\n    InterColorProfile: 34675,\r\n    GPSTag: 34853,\r\n    Interlace: 34857,\r\n    TimeZoneOffset: 34858,\r\n    SelfTimerMode: 34859,\r\n    FlashEnergy: 37387,\r\n    SpatialFrequencyResponse: 37388,\r\n    Noise: 37389,\r\n    FocalPlaneXResolution: 37390,\r\n    FocalPlaneYResolution: 37391,\r\n    FocalPlaneResolutionUnit: 37392,\r\n    ImageNumber: 37393,\r\n    SecurityClassification: 37394,\r\n    ImageHistory: 37395,\r\n    ExposureIndex: 37397,\r\n    TIFFEPStandardID: 37398,\r\n    SensingMethod: 37399,\r\n    XPTitle: 40091,\r\n    XPComment: 40092,\r\n    XPAuthor: 40093,\r\n    XPKeywords: 40094,\r\n    XPSubject: 40095,\r\n    PrintImageMatching: 50341,\r\n    DNGVersion: 50706,\r\n    DNGBackwardVersion: 50707,\r\n    UniqueCameraModel: 50708,\r\n    LocalizedCameraModel: 50709,\r\n    CFAPlaneColor: 50710,\r\n    CFALayout: 50711,\r\n    LinearizationTable: 50712,\r\n    BlackLevelRepeatDim: 50713,\r\n    BlackLevel: 50714,\r\n    BlackLevelDeltaH: 50715,\r\n    BlackLevelDeltaV: 50716,\r\n    WhiteLevel: 50717,\r\n    DefaultScale: 50718,\r\n    DefaultCropOrigin: 50719,\r\n    DefaultCropSize: 50720,\r\n    ColorMatrix1: 50721,\r\n    ColorMatrix2: 50722,\r\n    CameraCalibration1: 50723,\r\n    CameraCalibration2: 50724,\r\n    ReductionMatrix1: 50725,\r\n    ReductionMatrix2: 50726,\r\n    AnalogBalance: 50727,\r\n    AsShotNeutral: 50728,\r\n    AsShotWhiteXY: 50729,\r\n    BaselineExposure: 50730,\r\n    BaselineNoise: 50731,\r\n    BaselineSharpness: 50732,\r\n    BayerGreenSplit: 50733,\r\n    LinearResponseLimit: 50734,\r\n    CameraSerialNumber: 50735,\r\n    LensInfo: 50736,\r\n    ChromaBlurRadius: 50737,\r\n    AntiAliasStrength: 50738,\r\n    ShadowScale: 50739,\r\n    DNGPrivateData: 50740,\r\n    MakerNoteSafety: 50741,\r\n    CalibrationIlluminant1: 50778,\r\n    CalibrationIlluminant2: 50779,\r\n    BestQualityScale: 50780,\r\n    RawDataUniqueID: 50781,\r\n    OriginalRawFileName: 50827,\r\n    OriginalRawFileData: 50828,\r\n    ActiveArea: 50829,\r\n    MaskedAreas: 50830,\r\n    AsShotICCProfile: 50831,\r\n    AsShotPreProfileMatrix: 50832,\r\n    CurrentICCProfile: 50833,\r\n    CurrentPreProfileMatrix: 50834,\r\n    ColorimetricReference: 50879,\r\n    CameraCalibrationSignature: 50931,\r\n    ProfileCalibrationSignature: 50932,\r\n    AsShotProfileName: 50934,\r\n    NoiseReductionApplied: 50935,\r\n    ProfileName: 50936,\r\n    ProfileHueSatMapDims: 50937,\r\n    ProfileHueSatMapData1: 50938,\r\n    ProfileHueSatMapData2: 50939,\r\n    ProfileToneCurve: 50940,\r\n    ProfileEmbedPolicy: 50941,\r\n    ProfileCopyright: 50942,\r\n    ForwardMatrix1: 50964,\r\n    ForwardMatrix2: 50965,\r\n    PreviewApplicationName: 50966,\r\n    PreviewApplicationVersion: 50967,\r\n    PreviewSettingsName: 50968,\r\n    PreviewSettingsDigest: 50969,\r\n    PreviewColorSpace: 50970,\r\n    PreviewDateTime: 50971,\r\n    RawImageDigest: 50972,\r\n    OriginalRawFileDigest: 50973,\r\n    SubTileBlockSize: 50974,\r\n    RowInterleaveFactor: 50975,\r\n    ProfileLookTableDims: 50981,\r\n    ProfileLookTableData: 50982,\r\n    OpcodeList1: 51008,\r\n    OpcodeList2: 51009,\r\n    OpcodeList3: 51022,\r\n    NoiseProfile: 51041,\r\n  },\r\n  ExifIFD: {\r\n    ExposureTime: 33434,\r\n    FNumber: 33437,\r\n    ExposureProgram: 34850,\r\n    SpectralSensitivity: 34852,\r\n    ISOSpeedRatings: 34855,\r\n    OECF: 34856,\r\n    SensitivityType: 34864,\r\n    StandardOutputSensitivity: 34865,\r\n    RecommendedExposureIndex: 34866,\r\n    ISOSpeed: 34867,\r\n    ISOSpeedLatitudeyyy: 34868,\r\n    ISOSpeedLatitudezzz: 34869,\r\n    ExifVersion: 36864,\r\n    DateTimeOriginal: 36867,\r\n    DateTimeDigitized: 36868,\r\n    ComponentsConfiguration: 37121,\r\n    CompressedBitsPerPixel: 37122,\r\n    ShutterSpeedValue: 37377,\r\n    ApertureValue: 37378,\r\n    BrightnessValue: 37379,\r\n    ExposureBiasValue: 37380,\r\n    MaxApertureValue: 37381,\r\n    SubjectDistance: 37382,\r\n    MeteringMode: 37383,\r\n    LightSource: 37384,\r\n    Flash: 37385,\r\n    FocalLength: 37386,\r\n    SubjectArea: 37396,\r\n    MakerNote: 37500,\r\n    UserComment: 37510,\r\n    SubSecTime: 37520,\r\n    SubSecTimeOriginal: 37521,\r\n    SubSecTimeDigitized: 37522,\r\n    FlashpixVersion: 40960,\r\n    ColorSpace: 40961,\r\n    PixelXDimension: 40962,\r\n    PixelYDimension: 40963,\r\n    RelatedSoundFile: 40964,\r\n    InteroperabilityTag: 40965,\r\n    FlashEnergy: 41483,\r\n    SpatialFrequencyResponse: 41484,\r\n    FocalPlaneXResolution: 41486,\r\n    FocalPlaneYResolution: 41487,\r\n    FocalPlaneResolutionUnit: 41488,\r\n    SubjectLocation: 41492,\r\n    ExposureIndex: 41493,\r\n    SensingMethod: 41495,\r\n    FileSource: 41728,\r\n    SceneType: 41729,\r\n    CFAPattern: 41730,\r\n    CustomRendered: 41985,\r\n    ExposureMode: 41986,\r\n    WhiteBalance: 41987,\r\n    DigitalZoomRatio: 41988,\r\n    FocalLengthIn35mmFilm: 41989,\r\n    SceneCaptureType: 41990,\r\n    GainControl: 41991,\r\n    Contrast: 41992,\r\n    Saturation: 41993,\r\n    Sharpness: 41994,\r\n    DeviceSettingDescription: 41995,\r\n    SubjectDistanceRange: 41996,\r\n    ImageUniqueID: 42016,\r\n    CameraOwnerName: 42032,\r\n    BodySerialNumber: 42033,\r\n    LensSpecification: 42034,\r\n    LensMake: 42035,\r\n    LensModel: 42036,\r\n    LensSerialNumber: 42037,\r\n    Gamma: 42240,\r\n  },\r\n  GPSIFD: {\r\n    GPSVersionID: 0,\r\n    GPSLatitudeRef: 1,\r\n    GPSLatitude: 2,\r\n    GPSLongitudeRef: 3,\r\n    GPSLongitude: 4,\r\n    GPSAltitudeRef: 5,\r\n    GPSAltitude: 6,\r\n    GPSTimeStamp: 7,\r\n    GPSSatellites: 8,\r\n    GPSStatus: 9,\r\n    GPSMeasureMode: 10,\r\n    GPSDOP: 11,\r\n    GPSSpeedRef: 12,\r\n    GPSSpeed: 13,\r\n    GPSTrackRef: 14,\r\n    GPSTrack: 15,\r\n    GPSImgDirectionRef: 16,\r\n    GPSImgDirection: 17,\r\n    GPSMapDatum: 18,\r\n    GPSDestLatitudeRef: 19,\r\n    GPSDestLatitude: 20,\r\n    GPSDestLongitudeRef: 21,\r\n    GPSDestLongitude: 22,\r\n    GPSDestBearingRef: 23,\r\n    GPSDestBearing: 24,\r\n    GPSDestDistanceRef: 25,\r\n    GPSDestDistance: 26,\r\n    GPSProcessingMethod: 27,\r\n    GPSAreaInformation: 28,\r\n    GPSDateStamp: 29,\r\n    GPSDifferential: 30,\r\n    GPSHPositioningError: 31,\r\n  },\r\n  InteropIFD: {\r\n    InteroperabilityIndex: 1,\r\n  },\r\n};\r\n","import {\r\n  Types,\r\n  TagsFieldNames,\r\n  IExifElement,\r\n  ErrorCallback,\r\n} from './interfaces';\r\nimport * as exceptions from './exceptions';\r\nimport { Tags } from './constants';\r\n\r\nlet errorBypass = false;\r\nlet errorCallback: ErrorCallback = undefined;\r\n\r\nexport function setErrorByPass(\r\n  bypass: boolean,\r\n  errorcallback?: ErrorCallback,\r\n): void {\r\n  errorBypass = bypass;\r\n  errorCallback = errorcallback;\r\n}\r\n\r\nfunction throwError(error: string): void {\r\n  if (errorBypass) {\r\n    if (errorCallback) {\r\n      errorCallback(error);\r\n    }\r\n  } else {\r\n    throw new Error(error);\r\n  }\r\n}\r\n\r\nexport const _nLoopStr = (ch: string, num: number): string => {\r\n  let str = '';\r\n  for (let i = 0; i < num; i++) {\r\n    str += ch;\r\n  }\r\n  return str;\r\n};\r\n\r\nexport const pack = (mark: string, array: Array<number>): string => {\r\n  if (!(array instanceof Array)) {\r\n    throwError(\"'pack' error. Got invalid type argument.\");\r\n    return '';\r\n  }\r\n  if (mark.length - 1 != array.length) {\r\n    throwError(\r\n      `'pack' error. ${mark.length - 1} marks, ${array.length} elements.`,\r\n    );\r\n    return '';\r\n  }\r\n\r\n  let littleEndian;\r\n  if (mark[0] == '<') {\r\n    littleEndian = true;\r\n  } else if (mark[0] == '>') {\r\n    littleEndian = false;\r\n  } else {\r\n    throwError('Not match any endian.');\r\n    return '';\r\n  }\r\n  let packed = '';\r\n  let p = 1;\r\n  let val = null;\r\n  let c = null;\r\n  let valBinary = null;\r\n\r\n  while ((c = mark[p])) {\r\n    if (c.toLowerCase() == 'b') {\r\n      val = array[p - 1];\r\n      if (c == 'b' && val < 0) {\r\n        val += 0x100;\r\n      }\r\n      if (val > 0xff || val < 0) {\r\n        throwError(\"'pack' error.\");\r\n        return '';\r\n      } else {\r\n        valBinary = String.fromCharCode(val);\r\n      }\r\n    } else if (c == 'H') {\r\n      val = array[p - 1];\r\n      if (val > 0xffff || val < 0) {\r\n        throwError(\"'pack' error.\");\r\n        return '';\r\n      } else {\r\n        valBinary =\r\n          String.fromCharCode(Math.floor((val % 0x10000) / 0x100)) +\r\n          String.fromCharCode(val % 0x100);\r\n        if (littleEndian) {\r\n          valBinary = valBinary\r\n            .split('')\r\n            .reverse()\r\n            .join('');\r\n        }\r\n      }\r\n    } else if (c.toLowerCase() == 'l') {\r\n      val = array[p - 1];\r\n      if (c == 'l' && val < 0) {\r\n        val += 0x100000000;\r\n      }\r\n      if (val > 0xffffffff || val < 0) {\r\n        throwError(\"'pack' error.\");\r\n        return '';\r\n      } else {\r\n        valBinary =\r\n          String.fromCharCode(Math.floor(val / 0x1000000)) +\r\n          String.fromCharCode(Math.floor((val % 0x1000000) / 0x10000)) +\r\n          String.fromCharCode(Math.floor((val % 0x10000) / 0x100)) +\r\n          String.fromCharCode(val % 0x100);\r\n        if (littleEndian) {\r\n          valBinary = valBinary\r\n            .split('')\r\n            .reverse()\r\n            .join('');\r\n        }\r\n      }\r\n    } else {\r\n      throwError(\"'pack' error.\");\r\n      return '';\r\n    }\r\n\r\n    packed += valBinary;\r\n    p += 1;\r\n  }\r\n\r\n  return packed;\r\n};\r\n\r\nexport const unpack = (mark: string, str: string): number[] | null[] => {\r\n  if (typeof str != 'string') {\r\n    throwError(\"'unpack' error. Got invalid type argument.\");\r\n    return [null];\r\n  }\r\n  let l = 0;\r\n  for (let markPointer = 1; markPointer < mark.length; markPointer++) {\r\n    if (mark[markPointer].toLowerCase() == 'b') {\r\n      l += 1;\r\n    } else if (mark[markPointer].toLowerCase() == 'h') {\r\n      l += 2;\r\n    } else if (mark[markPointer].toLowerCase() == 'l') {\r\n      l += 4;\r\n    } else {\r\n      throwError(\"'unpack' error. Got invalid mark.\");\r\n      return [null];\r\n    }\r\n  }\r\n\r\n  if (l != str.length) {\r\n    throwError(\r\n      \"'unpack' error. Mismatch between symbol and string length. \" +\r\n        l +\r\n        ':' +\r\n        str.length,\r\n    );\r\n    return [null];\r\n  }\r\n\r\n  let littleEndian;\r\n  if (mark[0] == '<') {\r\n    littleEndian = true;\r\n  } else if (mark[0] == '>') {\r\n    littleEndian = false;\r\n  } else {\r\n    throwError(\"'unpack' error.\");\r\n    return [null];\r\n  }\r\n  const unpacked = [];\r\n  let strPointer = 0;\r\n  let p = 1;\r\n  let val = null;\r\n  let c = null;\r\n  let length = null;\r\n  let sliced = '';\r\n\r\n  while ((c = mark[p])) {\r\n    if (c.toLowerCase() == 'b') {\r\n      length = 1;\r\n      sliced = str.slice(strPointer, strPointer + length);\r\n      val = sliced.charCodeAt(0);\r\n      if (c == 'b' && val >= 0x80) {\r\n        val -= 0x100;\r\n      }\r\n    } else if (c == 'H') {\r\n      length = 2;\r\n      sliced = str.slice(strPointer, strPointer + length);\r\n      if (littleEndian) {\r\n        sliced = sliced\r\n          .split('')\r\n          .reverse()\r\n          .join('');\r\n      }\r\n      val = sliced.charCodeAt(0) * 0x100 + sliced.charCodeAt(1);\r\n    } else if (c.toLowerCase() == 'l') {\r\n      length = 4;\r\n      sliced = str.slice(strPointer, strPointer + length);\r\n      if (littleEndian) {\r\n        sliced = sliced\r\n          .split('')\r\n          .reverse()\r\n          .join('');\r\n      }\r\n      val =\r\n        sliced.charCodeAt(0) * 0x1000000 +\r\n        sliced.charCodeAt(1) * 0x10000 +\r\n        sliced.charCodeAt(2) * 0x100 +\r\n        sliced.charCodeAt(3);\r\n      if (c == 'l' && val >= 0x80000000) {\r\n        val -= 0x100000000;\r\n      }\r\n    } else {\r\n      throwError(\"'unpack' error. \" + c);\r\n      return [null];\r\n    }\r\n\r\n    unpacked.push(val);\r\n    strPointer += length;\r\n    p += 1;\r\n  }\r\n\r\n  return unpacked;\r\n};\r\n\r\nexport const _isBrowser = new Function(\r\n  'try {return this===window;}catch(e){ return false;}',\r\n)();\r\nexport const atob: Function = _isBrowser\r\n  ? window.atob\r\n  : (input: string): Buffer => {\r\n      const decoded = Buffer.from(input, 'base64');\r\n      return decoded;\r\n    };\r\nexport const btoa: Function = _isBrowser\r\n  ? window.btoa\r\n  : (input: string): string => {\r\n      const buf = Buffer.from(input);\r\n      const encoded = buf.toString('base64');\r\n      return encoded;\r\n    };\r\n\r\nexport const _packByte = (array: Array<number>): string => {\r\n  return pack('>' + _nLoopStr('B', array.length), array);\r\n};\r\n\r\nexport const _packShort = (array: Array<number>): string => {\r\n  return pack('>' + _nLoopStr('H', array.length), array);\r\n};\r\n\r\nexport const _packLong = (array: Array<number>): string => {\r\n  return pack('>' + _nLoopStr('L', array.length), array);\r\n};\r\n\r\nexport const copy = <T extends object>(obj: T): T => {\r\n  const copied = {};\r\n  Object.assign(copied, obj);\r\n  return obj;\r\n};\r\n\r\nexport const getThumbnail = (jpeg: string): string => {\r\n  let segments = splitIntoSegments(jpeg);\r\n  while (\r\n    '\\xff\\xe0' <= segments[1].slice(0, 2) &&\r\n    segments[1].slice(0, 2) <= '\\xff\\xef'\r\n  ) {\r\n    segments = [segments[0]].concat(segments.slice(2));\r\n  }\r\n  return segments.join('');\r\n};\r\n\r\nexport const _valueToBytes = (\r\n  rawValue: any,\r\n  valueType: number,\r\n  offset: number,\r\n): ITagBinary => {\r\n  let tagBinary;\r\n  if (valueType == Types.Byte) {\r\n    tagBinary = _toByte(rawValue, offset);\r\n  } else if (valueType == Types.Ascii) {\r\n    tagBinary = _toAscii(rawValue, offset);\r\n  } else if (valueType == Types.Short) {\r\n    tagBinary = _toShort(rawValue, offset);\r\n  } else if (valueType == Types.Long) {\r\n    tagBinary = _toLong(rawValue, offset);\r\n  } else if (valueType == Types.Rational) {\r\n    tagBinary = _toRational(rawValue, offset);\r\n  } else if (valueType == Types.Undefined) {\r\n    tagBinary = _toUndefined(rawValue, offset);\r\n  } else if (valueType == Types.SLong) {\r\n    throw new Error('Not implemented for SLong value');\r\n  } else if (valueType == Types.SRational) {\r\n    tagBinary = _toSRational(rawValue, offset);\r\n  } else {\r\n    throw new Error('Got unhandled exif value type.');\r\n  }\r\n\r\n  return tagBinary;\r\n};\r\n\r\ninterface ITagBinary {\r\n  value: string;\r\n  // length:number,\r\n  lengthBinary: string;\r\n  fourBytesOver: string;\r\n}\r\n\r\nexport const _toByte = (rawValue: any, offset: number): ITagBinary => {\r\n  if (typeof rawValue == 'number') {\r\n    rawValue = [rawValue];\r\n  } else if (Array.isArray(rawValue) && typeof rawValue[0] === 'number') {\r\n    // pass\r\n  } else {\r\n    const t = Array.isArray(rawValue) ? 'Array' : typeof rawValue;\r\n    throw new exceptions.ValueConvertError(\r\n      `Value must be \"number\" or \"Array<number>\".\\n` +\r\n        `Value: ${rawValue}\\n` +\r\n        `Type: ${t}`,\r\n    );\r\n  }\r\n\r\n  const length = rawValue.length;\r\n  const tagBinary: ITagBinary = {\r\n    value: '',\r\n    lengthBinary: '',\r\n    fourBytesOver: '',\r\n  };\r\n  if (length <= 4) {\r\n    tagBinary.value = _packByte(rawValue) + _nLoopStr('\\x00', 4 - length);\r\n  } else {\r\n    tagBinary.value = pack('>L', [offset]);\r\n    tagBinary.fourBytesOver = _packByte(rawValue);\r\n  }\r\n  tagBinary.lengthBinary = pack('>L', [length]);\r\n  return tagBinary;\r\n};\r\n\r\nexport const _toAscii = (rawValue: string, offset: number): ITagBinary => {\r\n  if (typeof rawValue !== 'string') {\r\n    const t = Array.isArray(rawValue) ? 'Array' : typeof rawValue;\r\n    throw new exceptions.ValueConvertError(\r\n      `Value must be \"string\". Got \"${t}\".`,\r\n    );\r\n  }\r\n\r\n  const newValue = rawValue + '\\x00';\r\n  const length = newValue.length;\r\n  const tagBinary: ITagBinary = {\r\n    value: '',\r\n    lengthBinary: '',\r\n    fourBytesOver: '',\r\n  };\r\n  if (length > 4) {\r\n    tagBinary.value = pack('>L', [offset]);\r\n    tagBinary.fourBytesOver = newValue;\r\n  } else {\r\n    tagBinary.value = newValue + _nLoopStr('\\x00', 4 - length);\r\n  }\r\n  tagBinary.lengthBinary = pack('>L', [length]);\r\n  return tagBinary;\r\n};\r\n\r\nexport const _toShort = (rawValue: any, offset: number): ITagBinary => {\r\n  if (typeof rawValue == 'number') {\r\n    rawValue = [rawValue];\r\n  } else if (Array.isArray(rawValue) && typeof rawValue[0] === 'number') {\r\n    // pass\r\n  } else {\r\n    const t = Array.isArray(rawValue) ? 'Array' : typeof rawValue;\r\n    throw new exceptions.ValueConvertError(\r\n      `Value must be \"number\" or \"Array<number>\".\\n` +\r\n        `Value: ${rawValue}\\n` +\r\n        `Type: ${t}`,\r\n    );\r\n  }\r\n\r\n  const length = rawValue.length;\r\n  const tagBinary: ITagBinary = {\r\n    value: '',\r\n    lengthBinary: '',\r\n    fourBytesOver: '',\r\n  };\r\n  if (length <= 2) {\r\n    tagBinary.value = _packShort(rawValue) + _nLoopStr('\\x00\\x00', 2 - length);\r\n  } else {\r\n    tagBinary.value = pack('>L', [offset]);\r\n    tagBinary.fourBytesOver = _packShort(rawValue);\r\n  }\r\n  tagBinary.lengthBinary = pack('>L', [length]);\r\n  return tagBinary;\r\n};\r\n\r\nexport const _toLong = (rawValue: any, offset: number): ITagBinary => {\r\n  if (typeof rawValue == 'number') {\r\n    rawValue = [rawValue];\r\n  } else if (Array.isArray(rawValue) && typeof rawValue[0] === 'number') {\r\n    // pass\r\n  } else {\r\n    const t = Array.isArray(rawValue) ? 'Array' : typeof rawValue;\r\n    throw new exceptions.ValueConvertError(\r\n      `Value must be \"number\" or \"Array<number>\".\\n` +\r\n        `Value: ${rawValue}\\n` +\r\n        `Type: ${t}`,\r\n    );\r\n  }\r\n\r\n  const length = rawValue.length;\r\n  const tagBinary: ITagBinary = {\r\n    value: '',\r\n    lengthBinary: '',\r\n    fourBytesOver: '',\r\n  };\r\n  if (length <= 1) {\r\n    tagBinary.value = _packLong(rawValue);\r\n  } else {\r\n    tagBinary.value = pack('>L', [offset]);\r\n    tagBinary.fourBytesOver = _packLong(rawValue);\r\n  }\r\n  tagBinary.lengthBinary = pack('>L', [length]);\r\n  return tagBinary;\r\n};\r\n\r\nexport const _toRational = (rawValue: any, offset: number): ITagBinary => {\r\n  if (\r\n    Array.isArray(rawValue) &&\r\n    typeof rawValue[0] === 'number' &&\r\n    rawValue.length === 2\r\n  ) {\r\n    rawValue = [rawValue];\r\n  } else if (\r\n    Array.isArray(rawValue) &&\r\n    Array.isArray(rawValue[0]) &&\r\n    typeof rawValue[0][0] === 'number'\r\n  ) {\r\n    // pass\r\n  } else {\r\n    let t = Array.isArray(rawValue) ? 'Array' : typeof rawValue;\r\n    t = t == 'Array' ? `Array<${typeof rawValue[0]}>` : t;\r\n    throw new exceptions.ValueConvertError(\r\n      `Value must be \"Array<number>\" or \"Array<Array<number>>\". Got \"${t}\".`,\r\n    );\r\n  }\r\n\r\n  const tagBinary: ITagBinary = {\r\n    value: '',\r\n    lengthBinary: '',\r\n    fourBytesOver: '',\r\n  };\r\n  const length = rawValue.length;\r\n  let newValue = '';\r\n  for (let n = 0; n < length; n++) {\r\n    const num = rawValue[n][0];\r\n    const den = rawValue[n][1];\r\n    newValue += pack('>L', [num]) + pack('>L', [den]);\r\n  }\r\n  tagBinary.lengthBinary = pack('>L', [length]);\r\n  tagBinary.value = pack('>L', [offset]);\r\n  tagBinary.fourBytesOver = newValue;\r\n  return tagBinary;\r\n};\r\n\r\nexport const _toUndefined = (rawValue: string, offset: number): ITagBinary => {\r\n  if (typeof rawValue !== 'string') {\r\n    const t = Array.isArray(rawValue) ? 'Array' : typeof rawValue;\r\n    throw new exceptions.ValueConvertError(\r\n      `Value must be \"string\". Got \"${t}\".`,\r\n    );\r\n  }\r\n\r\n  const length = rawValue.length;\r\n  const tagBinary: ITagBinary = {\r\n    value: '',\r\n    lengthBinary: '',\r\n    fourBytesOver: '',\r\n  };\r\n  if (length > 4) {\r\n    tagBinary.value = pack('>L', [offset]);\r\n    tagBinary.fourBytesOver = rawValue;\r\n  } else {\r\n    tagBinary.value = rawValue + _nLoopStr('\\x00', 4 - length);\r\n  }\r\n  tagBinary.lengthBinary = pack('>L', [length]);\r\n  return tagBinary;\r\n};\r\n\r\nexport const _toSRational = (rawValue: any, offset: number): ITagBinary => {\r\n  if (\r\n    Array.isArray(rawValue) &&\r\n    typeof rawValue[0] === 'number' &&\r\n    rawValue.length === 2\r\n  ) {\r\n    rawValue = [rawValue];\r\n  } else if (\r\n    Array.isArray(rawValue) &&\r\n    Array.isArray(rawValue[0]) &&\r\n    typeof rawValue[0][0] === 'number'\r\n  ) {\r\n    // pass\r\n  } else {\r\n    let t = Array.isArray(rawValue) ? 'Array' : typeof rawValue;\r\n    t = t == 'Array' ? `Array<${typeof rawValue[0]}>` : t;\r\n    throw new exceptions.ValueConvertError(\r\n      `Value must be \"Array<number>\" or \"Array<Array<number>>\". Got \"${t}\".`,\r\n    );\r\n  }\r\n\r\n  const tagBinary: ITagBinary = {\r\n    value: '',\r\n    lengthBinary: '',\r\n    fourBytesOver: '',\r\n  };\r\n  const length = rawValue.length;\r\n  let newValue = '';\r\n  for (let n = 0; n < length; n++) {\r\n    const num = rawValue[n][0];\r\n    const den = rawValue[n][1];\r\n    newValue += pack('>l', [num]) + pack('>l', [den]);\r\n  }\r\n  tagBinary.lengthBinary = pack('>L', [length]);\r\n  tagBinary.value = pack('>L', [offset]);\r\n  tagBinary.fourBytesOver = newValue;\r\n  return tagBinary;\r\n};\r\n\r\nexport const dictToBytes = (\r\n  ifdObj: IExifElement,\r\n  ifdName: TagsFieldNames,\r\n  ifdOffsetCount: number,\r\n): string[] => {\r\n  const TIFF_HEADER_LENGTH = 8;\r\n  const tagCount = Object.keys(ifdObj).length;\r\n  const entryHeader = pack('>H', [tagCount]);\r\n  let entriesLength;\r\n  if (['0th', '1st'].indexOf(ifdName) > -1) {\r\n    entriesLength = 2 + tagCount * 12 + 4;\r\n  } else {\r\n    entriesLength = 2 + tagCount * 12;\r\n  }\r\n  let entries = '';\r\n  let values = '';\r\n  let key;\r\n\r\n  for (key in ifdObj) {\r\n    if (typeof key == 'string') {\r\n      key = parseInt(key);\r\n    }\r\n    if (ifdName == '0th' && [34665, 34853].indexOf(key) > -1) {\r\n      continue;\r\n    } else if (ifdName == 'Exif' && key == 40965) {\r\n      continue;\r\n    } else if (ifdName == '1st' && [513, 514].indexOf(key) > -1) {\r\n      continue;\r\n    }\r\n\r\n    const rawValue = ifdObj[key];\r\n    const keyBinary = pack('>H', [key]);\r\n    const valueType: number = Tags[ifdName][key]['type'];\r\n    const typeBinary = pack('>H', [valueType]);\r\n\r\n    const offset =\r\n      TIFF_HEADER_LENGTH + entriesLength + ifdOffsetCount + values.length;\r\n    let b: ITagBinary;\r\n    try {\r\n      b = _valueToBytes(rawValue, valueType, offset);\r\n    } catch (e) {\r\n      if (e instanceof exceptions.ValueConvertError) {\r\n        const _ifdName = ['0th', '1st'].includes(ifdName) ? 'Image' : ifdName;\r\n        const tagName = Tags[_ifdName][key]['name'];\r\n        const errorMessage = `Can't convert ${tagName} in ${ifdName} IFD.\\r`;\r\n        e.message = errorMessage + e.message;\r\n      }\r\n      throw e;\r\n    }\r\n\r\n    entries += keyBinary + typeBinary + b.lengthBinary + b.value;\r\n    values += b.fourBytesOver;\r\n  }\r\n  return [entryHeader + entries, values];\r\n};\r\n\r\nexport class ExifReader {\r\n  tiftag: string;\r\n  endianMark: string;\r\n  constructor(exifBinary: string) {\r\n    let segments, app1;\r\n    if (exifBinary.slice(0, 2) == '\\xff\\xd8') {\r\n      // JPEG\r\n      segments = splitIntoSegments(exifBinary);\r\n      app1 = getExifSeg(segments);\r\n      if (app1) {\r\n        this.tiftag = app1.slice(10);\r\n      } else {\r\n        this.tiftag = null;\r\n      }\r\n    } else if (['\\x49\\x49', '\\x4d\\x4d'].indexOf(exifBinary.slice(0, 2)) > -1) {\r\n      // TIFF\r\n      this.tiftag = exifBinary;\r\n    } else if (exifBinary.slice(0, 4) == 'Exif') {\r\n      // Exif\r\n      this.tiftag = exifBinary.slice(6);\r\n    } else {\r\n      throw new Error('Given file is neither JPEG nor TIFF.');\r\n    }\r\n  }\r\n\r\n  getIfd = (pointer: number, ifdName: TagsFieldNames): IExifElement | null => {\r\n    const tagCount = unpack(\r\n      this.endianMark + 'H',\r\n      this.tiftag.slice(pointer, pointer + 2),\r\n    )[0];\r\n    if (tagCount == null || tagCount == 0) {\r\n      return null;\r\n    }\r\n    const ifdObj: IExifElement = {};\r\n    const offset = pointer + 2;\r\n    let t: TagsFieldNames;\r\n    if (['0th', '1st'].indexOf(ifdName) > -1) {\r\n      t = 'Image';\r\n    } else {\r\n      t = ifdName;\r\n    }\r\n\r\n    for (let x = 0; x < tagCount; x++) {\r\n      pointer = offset + 12 * x;\r\n      const tag = unpack(\r\n        this.endianMark + 'H',\r\n        this.tiftag.slice(pointer, pointer + 2),\r\n      )[0];\r\n      const valueType = unpack(\r\n        this.endianMark + 'H',\r\n        this.tiftag.slice(pointer + 2, pointer + 4),\r\n      )[0];\r\n      const valueNum = unpack(\r\n        this.endianMark + 'L',\r\n        this.tiftag.slice(pointer + 4, pointer + 8),\r\n      )[0];\r\n      const value = this.tiftag.slice(pointer + 8, pointer + 12);\r\n\r\n      const valueSet = [valueType, valueNum, value];\r\n      if (tag !== null && tag in Tags[t]) {\r\n        ifdObj[tag] = this.convertValue(valueSet);\r\n      }\r\n    }\r\n\r\n    return ifdObj;\r\n  };\r\n\r\n  getFirstIfdPointer = (\r\n    pointer: number,\r\n    ifdName: TagsFieldNames,\r\n  ): string | null => {\r\n    const tagCount = unpack(\r\n      this.endianMark + 'H',\r\n      this.tiftag.slice(pointer, pointer + 2),\r\n    )[0];\r\n    if (tagCount == null || tagCount == 0) {\r\n      return null;\r\n    }\r\n    const offset = pointer + 2;\r\n    let firstIfdPointer: string;\r\n    if (ifdName == '0th') {\r\n      pointer = offset + 12 * tagCount;\r\n      firstIfdPointer = this.tiftag.slice(pointer, pointer + 4);\r\n    }\r\n\r\n    return firstIfdPointer;\r\n  };\r\n\r\n  convertValue = (val: any): any => {\r\n    let data = null;\r\n    const t = val[0];\r\n    const length = val[1];\r\n    const value = val[2];\r\n    let pointer;\r\n\r\n    if (t == 1) {\r\n      // BYTE\r\n      if (length > 4) {\r\n        pointer = unpack(this.endianMark + 'L', value)[0];\r\n        if (pointer !== null) {\r\n          data = unpack(\r\n            this.endianMark + _nLoopStr('B', length),\r\n            this.tiftag.slice(pointer, pointer + length),\r\n          );\r\n        }\r\n      } else {\r\n        data = unpack(\r\n          this.endianMark + _nLoopStr('B', length),\r\n          value.slice(0, length),\r\n        );\r\n      }\r\n    } else if (t == 2) {\r\n      // ASCII\r\n      if (length > 4) {\r\n        pointer = unpack(this.endianMark + 'L', value)[0];\r\n        if (pointer !== null) {\r\n          data = this.tiftag.slice(pointer, pointer + length - 1);\r\n        }\r\n      } else {\r\n        data = value.slice(0, length - 1);\r\n      }\r\n    } else if (t == 3) {\r\n      // SHORT\r\n      if (length > 2) {\r\n        pointer = unpack(this.endianMark + 'L', value)[0];\r\n        if (pointer !== null) {\r\n          data = unpack(\r\n            this.endianMark + _nLoopStr('H', length),\r\n            this.tiftag.slice(pointer, pointer + length * 2),\r\n          );\r\n        }\r\n      } else {\r\n        data = unpack(\r\n          this.endianMark + _nLoopStr('H', length),\r\n          value.slice(0, length * 2),\r\n        );\r\n      }\r\n    } else if (t == 4) {\r\n      // LONG\r\n      if (length > 1) {\r\n        pointer = unpack(this.endianMark + 'L', value)[0];\r\n        if (pointer !== null) {\r\n          data = unpack(\r\n            this.endianMark + _nLoopStr('L', length),\r\n            this.tiftag.slice(pointer, pointer + length * 4),\r\n          );\r\n        }\r\n      } else {\r\n        data = unpack(this.endianMark + _nLoopStr('L', length), value);\r\n      }\r\n    } else if (t == 5) {\r\n      // RATIONAL\r\n      pointer = unpack(this.endianMark + 'L', value)[0];\r\n      if (length > 1 && pointer !== null) {\r\n        data = [];\r\n        for (let x = 0; x < length; x++) {\r\n          data.push([\r\n            unpack(\r\n              this.endianMark + 'L',\r\n              this.tiftag.slice(pointer + x * 8, pointer + 4 + x * 8),\r\n            )[0],\r\n            unpack(\r\n              this.endianMark + 'L',\r\n              this.tiftag.slice(pointer + 4 + x * 8, pointer + 8 + x * 8),\r\n            )[0],\r\n          ]);\r\n        }\r\n      } else {\r\n        data = [\r\n          unpack(\r\n            this.endianMark + 'L',\r\n            this.tiftag.slice(pointer, pointer + 4),\r\n          )[0],\r\n          unpack(\r\n            this.endianMark + 'L',\r\n            this.tiftag.slice(pointer + 4, pointer + 8),\r\n          )[0],\r\n        ];\r\n      }\r\n    } else if (t == 7) {\r\n      // UNDEFINED BYTES\r\n      if (length > 4) {\r\n        pointer = unpack(this.endianMark + 'L', value)[0];\r\n        if (pointer !== null) {\r\n          data = this.tiftag.slice(pointer, pointer + length);\r\n        }\r\n      } else {\r\n        data = value.slice(0, length);\r\n      }\r\n    } else if (t == 10) {\r\n      // SRATIONAL\r\n      pointer = unpack(this.endianMark + 'L', value)[0];\r\n      if (length > 1 && pointer !== null) {\r\n        data = [];\r\n        for (let x = 0; x < length; x++) {\r\n          data.push([\r\n            unpack(\r\n              this.endianMark + 'l',\r\n              this.tiftag.slice(pointer + x * 8, pointer + 4 + x * 8),\r\n            )[0],\r\n            unpack(\r\n              this.endianMark + 'l',\r\n              this.tiftag.slice(pointer + 4 + x * 8, pointer + 8 + x * 8),\r\n            )[0],\r\n          ]);\r\n        }\r\n      } else {\r\n        data = [\r\n          unpack(\r\n            this.endianMark + 'l',\r\n            this.tiftag.slice(pointer, pointer + 4),\r\n          )[0],\r\n          unpack(\r\n            this.endianMark + 'l',\r\n            this.tiftag.slice(pointer + 4, pointer + 8),\r\n          )[0],\r\n        ];\r\n      }\r\n    } else {\r\n      throwError(\r\n        'Exif might be wrong. Got incorrect value ' +\r\n          'type to decode. type:' +\r\n          t,\r\n      );\r\n      return null;\r\n    }\r\n\r\n    if (data instanceof Array && data.length == 1) {\r\n      return data[0];\r\n    } else {\r\n      return data;\r\n    }\r\n  };\r\n}\r\n\r\nexport const splitIntoSegments = (data: string): string[] => {\r\n  if (data.slice(0, 2) != '\\xff\\xd8') {\r\n    throw new Error(\"Given data isn't JPEG.\");\r\n  }\r\n\r\n  let head = 2;\r\n  const segments = ['\\xff\\xd8'];\r\n  while (true) {\r\n    if (data.slice(head, head + 2) == '\\xff\\xda') {\r\n      segments.push(data.slice(head));\r\n      break;\r\n    } else {\r\n      const length = unpack('>H', data.slice(head + 2, head + 4))[0];\r\n      if (length !== null) {\r\n        const endPoint = head + length + 2;\r\n        segments.push(data.slice(head, endPoint));\r\n        head = endPoint;\r\n      }\r\n    }\r\n\r\n    if (head >= data.length) {\r\n      throw new Error('Wrong JPEG data.');\r\n    }\r\n  }\r\n  return segments;\r\n};\r\n\r\nconst getExifSeg = (segments: Array<string>): string => {\r\n  let seg;\r\n  for (let i = 0; i < segments.length; i++) {\r\n    seg = segments[i];\r\n    if (seg.slice(0, 2) == '\\xff\\xe1' && seg.slice(4, 10) == 'Exif\\x00\\x00') {\r\n      return seg;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const mergeSegments = (\r\n  segments: Array<string>,\r\n  exif: string,\r\n): string => {\r\n  let hasExifSegment = false;\r\n  const additionalAPP1ExifSegments: Array<number> = [];\r\n\r\n  segments.forEach(function(segment, i) {\r\n    // Replace first occurence of APP1:Exif segment\r\n    if (\r\n      segment.slice(0, 2) == '\\xff\\xe1' &&\r\n      segment.slice(4, 10) == 'Exif\\x00\\x00'\r\n    ) {\r\n      if (!hasExifSegment) {\r\n        segments[i] = exif;\r\n        hasExifSegment = true;\r\n      } else {\r\n        additionalAPP1ExifSegments.unshift(i);\r\n      }\r\n    }\r\n  });\r\n\r\n  // Remove additional occurences of APP1:Exif segment\r\n  additionalAPP1ExifSegments.forEach(function(segmentIndex) {\r\n    segments.splice(segmentIndex, 1);\r\n  });\r\n\r\n  if (!hasExifSegment && exif) {\r\n    segments = [segments[0], exif].concat(segments.slice(1));\r\n  }\r\n\r\n  return segments.join('');\r\n};\r\n","export const GPSHelper = {\r\n  degToDmsRational: (degFloat: number): number[][] => {\r\n    const degAbs = Math.abs(degFloat);\r\n    const minFloat = (degAbs % 1) * 60;\r\n    const secFloat = (minFloat % 1) * 60;\r\n    const deg = Math.floor(degAbs);\r\n    const min = Math.floor(minFloat);\r\n    const sec = Math.round(secFloat * 100);\r\n    return [[deg, 1], [min, 1], [sec, 100]];\r\n  },\r\n\r\n  dmsRationalToDeg: (dmsArray: Array<Array<number>>, ref: string): number => {\r\n    if (ref !== 'S' && ref !== 'W' && ref !== 'N' && ref !== 'E') {\r\n      throw new Error(\r\n        '\"dmsRationalToDeg\", 2nd argument must be \"N\", \"S\", \"E\" or \"W\"',\r\n      );\r\n    }\r\n    const sign = ref === 'S' || ref === 'W' ? -1.0 : 1.0;\r\n    const deg =\r\n      dmsArray[0][0] / dmsArray[0][1] +\r\n      dmsArray[1][0] / (dmsArray[1][1] * 60.0) +\r\n      dmsArray[2][0] / (dmsArray[2][1] * 3600.0);\r\n\r\n    return sign * deg;\r\n  },\r\n};\r\n","import * as _utils from './utils';\r\n\r\n// Hacky? Yep, but sometimes you gotta do what you gotta do\r\nexport { Types, IExif, IExifElement, ErrorCallback } from './interfaces';\r\nexport { TagValues } from './constants';\r\nexport { GPSHelper } from './helper';\r\nexport { ValueConvertError } from './exceptions';\r\n\r\nimport { Types, IExif, IExifElement, ErrorCallback } from './interfaces';\r\nimport { TagValues } from './constants';\r\n\r\nexport const version = '2.0.0b';\r\n\r\nexport const remove = (imageBinary: string): string => {\r\n  let bbase64Encoded = false;\r\n  if (imageBinary.slice(0, 2) == '\\xff\\xd8') {\r\n  } else if (\r\n    imageBinary.slice(0, 23) == 'data:image/jpeg;base64,' ||\r\n    imageBinary.slice(0, 22) == 'data:image/jpg;base64,'\r\n  ) {\r\n    imageBinary = _utils.atob(imageBinary.split(',')[1]);\r\n    bbase64Encoded = true;\r\n  } else {\r\n    throw new Error('Given data is not jpeg.');\r\n  }\r\n\r\n  const segments = _utils.splitIntoSegments(imageBinary);\r\n  const newSegments = segments.filter(function(segment: string) {\r\n    return !(\r\n      segment.slice(0, 2) == '\\xff\\xe1' &&\r\n      segment.slice(4, 10) == 'Exif\\x00\\x00'\r\n    );\r\n  });\r\n\r\n  let newBinary = newSegments.join('');\r\n  if (bbase64Encoded) {\r\n    newBinary = 'data:image/jpeg;base64,' + _utils.btoa(newBinary);\r\n  }\r\n\r\n  return newBinary;\r\n};\r\n\r\nexport const insert = (exifBinary: string, imageBinary: string): string => {\r\n  let base64Encoded = false;\r\n  if (exifBinary.slice(0, 6) != '\\x45\\x78\\x69\\x66\\x00\\x00') {\r\n    throw new Error('Given data is not exif.');\r\n  }\r\n  if (imageBinary.slice(0, 2) == '\\xff\\xd8') {\r\n  } else if (\r\n    imageBinary.slice(0, 23) == 'data:image/jpeg;base64,' ||\r\n    imageBinary.slice(0, 22) == 'data:image/jpg;base64,'\r\n  ) {\r\n    imageBinary = _utils.atob(imageBinary.split(',')[1]);\r\n    base64Encoded = true;\r\n  } else {\r\n    throw new Error('Given data is not jpeg.');\r\n  }\r\n\r\n  const app1Segment =\r\n    '\\xff\\xe1' + _utils.pack('>H', [exifBinary.length + 2]) + exifBinary;\r\n  const segments = _utils.splitIntoSegments(imageBinary);\r\n  let newBinary = _utils.mergeSegments(segments, app1Segment);\r\n  if (base64Encoded) {\r\n    newBinary = 'data:image/jpeg;base64,' + _utils.btoa(newBinary);\r\n  }\r\n\r\n  return newBinary;\r\n};\r\n\r\nexport const load = (binary: string): IExif => {\r\n  let exifBinary;\r\n  if (typeof binary == 'string') {\r\n    if (binary.slice(0, 2) == '\\xff\\xd8') {\r\n      exifBinary = binary;\r\n    } else if (\r\n      binary.slice(0, 23) == 'data:image/jpeg;base64,' ||\r\n      binary.slice(0, 22) == 'data:image/jpg;base64,'\r\n    ) {\r\n      exifBinary = _utils.atob(binary.split(',')[1]);\r\n    } else if (binary.slice(0, 4) == 'Exif') {\r\n      exifBinary = binary.slice(6);\r\n    } else {\r\n      throw new Error(\"'load' gots invalid file data.\");\r\n    }\r\n  } else {\r\n    throw new Error(\"'load' gots invalid type argument.\");\r\n  }\r\n\r\n  const exifObj: IExif = {};\r\n  const exifReader = new _utils.ExifReader(exifBinary);\r\n  if (exifReader.tiftag === null) {\r\n    return exifObj;\r\n  }\r\n\r\n  if (exifReader.tiftag.slice(0, 2) == '\\x49\\x49') {\r\n    exifReader.endianMark = '<';\r\n  } else {\r\n    exifReader.endianMark = '>';\r\n  }\r\n\r\n  let zerothIfd: IExifElement = null;\r\n  let firstIfd: IExifElement = null;\r\n  let exifIfd: IExifElement = null;\r\n  let interopIfd: IExifElement = null;\r\n  let gpsIfd: IExifElement = null;\r\n  let thumbnail: string = null;\r\n  let firstIfdPointer: string = null;\r\n  const pointer = _utils.unpack(\r\n    exifReader.endianMark + 'L',\r\n    exifReader.tiftag.slice(4, 8),\r\n  )[0];\r\n\r\n  if (pointer != null) {\r\n    zerothIfd = exifReader.getIfd(pointer, '0th');\r\n    firstIfdPointer = exifReader.getFirstIfdPointer(pointer, '0th');\r\n  }\r\n\r\n  if (zerothIfd !== null && 34665 in zerothIfd) {\r\n    const pointer = zerothIfd[34665];\r\n    exifIfd = exifReader.getIfd(pointer, 'Exif');\r\n  }\r\n  if (zerothIfd !== null && 34853 in zerothIfd) {\r\n    const pointer = zerothIfd[34853];\r\n    gpsIfd = exifReader.getIfd(pointer, 'GPS');\r\n  }\r\n  if (exifIfd !== null && 40965 in exifIfd) {\r\n    const pointer = exifIfd[40965];\r\n    interopIfd = exifReader.getIfd(pointer, 'Interop');\r\n  }\r\n  if (firstIfdPointer !== null && firstIfdPointer != '\\x00\\x00\\x00\\x00') {\r\n    const pointer = _utils.unpack(\r\n      exifReader.endianMark + 'L',\r\n      firstIfdPointer,\r\n    )[0];\r\n    if (pointer !== null) {\r\n      firstIfd = exifReader.getIfd(pointer, '1st');\r\n      if (firstIfd !== null && 513 in firstIfd && 514 in firstIfd) {\r\n        const end = firstIfd[513] + firstIfd[514];\r\n        thumbnail = exifReader.tiftag.slice(firstIfd[513], end);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (zerothIfd !== null) {\r\n    exifObj['0th'] = zerothIfd;\r\n  }\r\n  if (firstIfd !== null) {\r\n    exifObj['1st'] = firstIfd;\r\n  }\r\n  if (exifIfd !== null) {\r\n    exifObj['Exif'] = exifIfd;\r\n  }\r\n  if (gpsIfd !== null) {\r\n    exifObj['GPS'] = gpsIfd;\r\n  }\r\n  if (interopIfd !== null) {\r\n    exifObj['Interop'] = interopIfd;\r\n  }\r\n  if (thumbnail !== null) {\r\n    exifObj['thumbnail'] = thumbnail;\r\n  }\r\n  return exifObj;\r\n};\r\n\r\nexport const dump = (originalExifObj: IExif): string => {\r\n  const TIFF_HEADER_LENGTH = 8;\r\n\r\n  const exifObj: IExif = _utils.copy(originalExifObj);\r\n  const header = 'Exif\\x00\\x00\\x4d\\x4d\\x00\\x2a\\x00\\x00\\x00\\x08';\r\n  let existExifIfd = false;\r\n  let existGpsIfd = false;\r\n  let existInteropIfd = false;\r\n  let existFirstIfd = false;\r\n\r\n  let zerothIfd: IExifElement,\r\n    exifIfd: IExifElement,\r\n    interopIfd: IExifElement,\r\n    gpsIfd: IExifElement,\r\n    firstIfd: IExifElement;\r\n\r\n  if ('0th' in exifObj) {\r\n    zerothIfd = exifObj['0th'];\r\n  } else {\r\n    zerothIfd = {};\r\n  }\r\n\r\n  if (\r\n    ('Exif' in exifObj && Object.keys(exifObj['Exif']).length) ||\r\n    ('Interop' in exifObj && Object.keys(exifObj['Interop']).length)\r\n  ) {\r\n    zerothIfd[34665] = 1;\r\n    existExifIfd = true;\r\n    exifIfd = exifObj['Exif'];\r\n    if ('Interop' in exifObj && Object.keys(exifObj['Interop']).length) {\r\n      exifIfd[40965] = 1;\r\n      existInteropIfd = true;\r\n      interopIfd = exifObj['Interop'];\r\n    } else if (\r\n      Object.keys(exifIfd).indexOf(\r\n        TagValues.ExifIFD.InteroperabilityTag.toString(),\r\n      ) > -1\r\n    ) {\r\n      delete exifIfd[40965];\r\n    }\r\n  } else if (\r\n    Object.keys(zerothIfd).indexOf(TagValues.ImageIFD.ExifTag.toString()) > -1\r\n  ) {\r\n    delete zerothIfd[34665];\r\n  }\r\n\r\n  if ('GPS' in exifObj && Object.keys(exifObj['GPS']).length) {\r\n    zerothIfd[TagValues.ImageIFD.GPSTag] = 1;\r\n    existGpsIfd = true;\r\n    gpsIfd = exifObj['GPS'];\r\n  } else if (\r\n    Object.keys(zerothIfd).indexOf(TagValues.ImageIFD.GPSTag.toString()) > -1\r\n  ) {\r\n    delete zerothIfd[TagValues.ImageIFD.GPSTag];\r\n  }\r\n\r\n  if (\r\n    '1st' in exifObj &&\r\n    'thumbnail' in exifObj &&\r\n    exifObj['thumbnail'] != null\r\n  ) {\r\n    existFirstIfd = true;\r\n    exifObj['1st'][513] = 1;\r\n    exifObj['1st'][514] = 1;\r\n    firstIfd = exifObj['1st'];\r\n  }\r\n\r\n  const zerothIfdSet = _utils.dictToBytes(zerothIfd, '0th', 0);\r\n  const zerothIfdLength =\r\n    zerothIfdSet[0].length +\r\n    Number(existExifIfd) * 12 +\r\n    Number(existGpsIfd) * 12 +\r\n    4 +\r\n    zerothIfdSet[1].length;\r\n\r\n  let exifIfdSet,\r\n    exifIfdBytes = '',\r\n    exifIfdLength = 0,\r\n    gpsIfdSet,\r\n    gpsIfdBytes = '',\r\n    gpsIfdLength = 0,\r\n    interopIfdSet,\r\n    interopIfdBytes = '',\r\n    interopIfdLength = 0,\r\n    firstIfdSet,\r\n    firstIfdBytes = '',\r\n    thumbnail;\r\n  if (existExifIfd) {\r\n    exifIfdSet = _utils.dictToBytes(exifIfd, 'Exif', zerothIfdLength);\r\n    exifIfdLength =\r\n      exifIfdSet[0].length +\r\n      Number(existInteropIfd) * 12 +\r\n      exifIfdSet[1].length;\r\n  }\r\n  if (existGpsIfd) {\r\n    gpsIfdSet = _utils.dictToBytes(\r\n      gpsIfd,\r\n      'GPS',\r\n      zerothIfdLength + exifIfdLength,\r\n    );\r\n    gpsIfdBytes = gpsIfdSet.join('');\r\n    gpsIfdLength = gpsIfdBytes.length;\r\n  }\r\n  if (existInteropIfd) {\r\n    const offset = zerothIfdLength + exifIfdLength + gpsIfdLength;\r\n    interopIfdSet = _utils.dictToBytes(interopIfd, 'Interop', offset);\r\n    interopIfdBytes = interopIfdSet.join('');\r\n    interopIfdLength = interopIfdBytes.length;\r\n  }\r\n  if (existFirstIfd) {\r\n    const offset =\r\n      zerothIfdLength + exifIfdLength + gpsIfdLength + interopIfdLength;\r\n    firstIfdSet = _utils.dictToBytes(firstIfd, '1st', offset);\r\n    thumbnail = _utils.getThumbnail(exifObj['thumbnail']);\r\n    if (thumbnail.length > 64000) {\r\n      throw new Error('Given thumbnail is too large. max 64kB');\r\n    }\r\n  }\r\n\r\n  let exifPointer = '',\r\n    gpsPointer = '',\r\n    interopPointer = '',\r\n    firstIfdPointer = '\\x00\\x00\\x00\\x00';\r\n  if (existExifIfd) {\r\n    const pointerValue = TIFF_HEADER_LENGTH + zerothIfdLength;\r\n    const pointerBinary = _utils.pack('>L', [pointerValue]);\r\n    const key = 34665;\r\n    const keyBinary = _utils.pack('>H', [key]);\r\n    const typeBinary = _utils.pack('>H', [Types['Long']]);\r\n    const lengthBinary = _utils.pack('>L', [1]);\r\n    exifPointer = keyBinary + typeBinary + lengthBinary + pointerBinary;\r\n  }\r\n  if (existGpsIfd) {\r\n    const pointerValue = TIFF_HEADER_LENGTH + zerothIfdLength + exifIfdLength;\r\n    const pointerBinary = _utils.pack('>L', [pointerValue]);\r\n    const key = 34853;\r\n    const keyBinary = _utils.pack('>H', [key]);\r\n    const typeBinary = _utils.pack('>H', [Types['Long']]);\r\n    const lengthBinary = _utils.pack('>L', [1]);\r\n    gpsPointer = keyBinary + typeBinary + lengthBinary + pointerBinary;\r\n  }\r\n  if (existInteropIfd) {\r\n    const pointerValue =\r\n      TIFF_HEADER_LENGTH + zerothIfdLength + exifIfdLength + gpsIfdLength;\r\n    const pointerBinary = _utils.pack('>L', [pointerValue]);\r\n    const key = 40965;\r\n    const keyBinary = _utils.pack('>H', [key]);\r\n    const typeBinary = _utils.pack('>H', [Types['Long']]);\r\n    const lengthBinary = _utils.pack('>L', [1]);\r\n    interopPointer = keyBinary + typeBinary + lengthBinary + pointerBinary;\r\n  }\r\n  if (existFirstIfd) {\r\n    const pointerValue =\r\n      TIFF_HEADER_LENGTH +\r\n      zerothIfdLength +\r\n      exifIfdLength +\r\n      gpsIfdLength +\r\n      interopIfdLength;\r\n    firstIfdPointer = _utils.pack('>L', [pointerValue]);\r\n    const thumbnailPointer =\r\n      pointerValue + firstIfdSet[0].length + 24 + 4 + firstIfdSet[1].length;\r\n    const thumbnailPointerBinary =\r\n      '\\x02\\x01\\x00\\x04\\x00\\x00\\x00\\x01' +\r\n      _utils.pack('>L', [thumbnailPointer]);\r\n    const thumbnailLengthBinary =\r\n      '\\x02\\x02\\x00\\x04\\x00\\x00\\x00\\x01' +\r\n      _utils.pack('>L', [thumbnail.length]);\r\n    firstIfdBytes =\r\n      firstIfdSet[0] +\r\n      thumbnailPointerBinary +\r\n      thumbnailLengthBinary +\r\n      '\\x00\\x00\\x00\\x00' +\r\n      firstIfdSet[1] +\r\n      thumbnail;\r\n  }\r\n\r\n  const zerothIfdBinary =\r\n    zerothIfdSet[0] +\r\n    exifPointer +\r\n    gpsPointer +\r\n    firstIfdPointer +\r\n    zerothIfdSet[1];\r\n  if (existExifIfd) {\r\n    exifIfdBytes = exifIfdSet[0] + interopPointer + exifIfdSet[1];\r\n  }\r\n\r\n  return (\r\n    header +\r\n    zerothIfdBinary +\r\n    exifIfdBytes +\r\n    gpsIfdBytes +\r\n    interopIfdBytes +\r\n    firstIfdBytes\r\n  );\r\n};\r\n\r\nexport const setErrorByPass = (\r\n  bypass: boolean,\r\n  errorCallback?: ErrorCallback,\r\n): void => {\r\n  _utils.setErrorByPass(bypass, errorCallback);\r\n};\r\n\r\nexport const resetOrientation = (exifObject: IExif): IExif => {\r\n  const orientationKey = TagValues.ImageIFD.Orientation;\r\n\r\n  if (exifObject['0th']) {\r\n    if (exifObject['0th'][orientationKey]) {\r\n      exifObject['0th'][orientationKey] = 1;\r\n    }\r\n  }\r\n\r\n  return exifObject;\r\n};\r\n"],"names":["exceptions.ValueConvertError","_utils.atob","_utils.splitIntoSegments","_utils.btoa","_utils.pack","_utils.mergeSegments","_utils.ExifReader","_utils.unpack","_utils.copy","_utils.dictToBytes","_utils.getThumbnail","setErrorByPass","_utils.setErrorByPass"],"mappings":"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"}